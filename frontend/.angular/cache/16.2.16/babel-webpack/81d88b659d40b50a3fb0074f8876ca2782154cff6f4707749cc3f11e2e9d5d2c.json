{"ast":null,"code":"import { jwtDecode } from \"jwt-decode\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../auth.service\";\nimport * as i3 from \"@angular/common\";\nfunction HomeComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Welcome to the Shipping App!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"Please log in or register to continue.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_2_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.goLogin());\n    });\n    i0.ɵɵtext(6, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_2_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.goRegister());\n    });\n    i0.ɵɵtext(8, \"Register\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction HomeComponent_div_3_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_3_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.goManageOrders());\n    });\n    i0.ɵɵtext(1, \"Manage Orders\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_3_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_3_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.goCreateOrder());\n    });\n    i0.ɵɵtext(1, \"Create Order\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_3_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_3_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.goMyOrders());\n    });\n    i0.ɵɵtext(1, \"My Orders\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_3_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_3_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.goAssignedOrders());\n    });\n    i0.ɵɵtext(1, \"Assigned Orders\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction HomeComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5, \"Choose an option below:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, HomeComponent_div_3_button_6_Template, 2, 0, \"button\", 4);\n    i0.ɵɵtemplate(7, HomeComponent_div_3_button_7_Template, 2, 0, \"button\", 4);\n    i0.ɵɵtemplate(8, HomeComponent_div_3_button_8_Template, 2, 0, \"button\", 4);\n    i0.ɵɵtemplate(9, HomeComponent_div_3_button_9_Template, 2, 0, \"button\", 4);\n    i0.ɵɵelementStart(10, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_3_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.logout());\n    });\n    i0.ɵɵtext(11, \"Logout\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Welcome, \", i0.ɵɵpipeBind1(3, 5, ctx_r1.role), \"!\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isAdmin());\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isCustomer());\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isCustomer());\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isCourier());\n  }\n}\nexport class HomeComponent {\n  constructor(r, authService) {\n    this.r = r;\n    this.authService = authService;\n    this.userId = null;\n    this.role = null;\n    const token = this.authService.getToken();\n    if (token) {\n      const decodedToken = jwtDecode(token);\n      this.userId = decodedToken.sub;\n      this.role = decodedToken.role;\n      console.log(\"test1:\" + this.userId);\n      console.log(\"test1:\" + this.role);\n    } else {\n      console.log(\"test2:\" + this.userId);\n      console.log(\"test2:\" + this.role);\n    }\n  }\n  ngOnInit() {\n    if (!this.isLoggedIn()) {\n      this.r.navigate(['/login']); // Redirect if not logged in\n    }\n  }\n\n  goLogin() {\n    this.r.navigate([\"/login\"]);\n  }\n  goRegister() {\n    this.r.navigate([\"/register\"]);\n  }\n  goCreateOrder() {\n    this.r.navigate([\"/orders\"]);\n  }\n  goManageOrders() {\n    this.r.navigate([\"/manage-orders\"]);\n  }\n  goMyOrders() {\n    this.r.navigate([\"/user-orders\"]);\n  }\n  goAssignedOrders() {\n    this.r.navigate([\"/courier\"]);\n  }\n  isLoggedIn() {\n    return this.authService.isLoggedIn();\n  }\n  isAdmin() {\n    if (this.role === \"admin\") {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  isCustomer() {\n    return this.role === \"customer\";\n  }\n  isCourier() {\n    return this.role === \"courier\";\n  }\n  logout() {\n    this.authService.logout();\n    this.userId = null;\n    this.role = null;\n  }\n  static {\n    this.ɵfac = function HomeComponent_Factory(t) {\n      return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: HomeComponent,\n      selectors: [[\"app-home\"]],\n      decls: 4,\n      vars: 2,\n      consts: [[1, \"wrapper\"], [1, \"container\"], [4, \"ngIf\"], [3, \"click\"], [3, \"click\", 4, \"ngIf\"], [1, \"logout\", 3, \"click\"]],\n      template: function HomeComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n          i0.ɵɵtemplate(2, HomeComponent_div_2_Template, 9, 0, \"div\", 2);\n          i0.ɵɵtemplate(3, HomeComponent_div_3_Template, 12, 7, \"div\", 2);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoggedIn());\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn());\n        }\n      },\n      dependencies: [i3.NgIf, i3.TitleCasePipe],\n      styles: [\"\\n\\n*[_ngcontent-%COMP%] {\\n    margin: 0;\\n    padding: 0;\\n    box-sizing: border-box;\\n  }\\n  \\n  \\n\\n  body[_ngcontent-%COMP%], html[_ngcontent-%COMP%] {\\n    height: 100%;\\n    margin: 0;\\n    display: flex;\\n    justify-content: center;  \\n\\n    align-items: center;      \\n\\n    background-color: #f0f0f5; \\n\\n    font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif; \\n\\n    color: #333;  \\n\\n  }\\n  \\n  \\n\\n  .wrapper[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: 100%; \\n\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n  }\\n  \\n  \\n\\n  .container[_ngcontent-%COMP%] {\\n    text-align: center;\\n    background-color: #ffffff; \\n\\n    padding: 40px;\\n    border-radius: 20px;\\n    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); \\n\\n    width: 100%;\\n    max-width: 450px; \\n\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n    box-sizing: border-box;\\n  }\\n  \\n  \\n\\n  h2[_ngcontent-%COMP%] {\\n    font-size: 28px;\\n    color: #333;\\n    margin-bottom: 10px;\\n    font-weight: 600;\\n  }\\n  \\n  \\n\\n  p[_ngcontent-%COMP%] {\\n    font-size: 16px;\\n    color: #777;\\n    margin-bottom: 20px;\\n    line-height: 1.5;\\n  }\\n  \\n  \\n\\n  button[_ngcontent-%COMP%] {\\n    background-color: #007aff; \\n\\n    color: #fff;\\n    border: none;\\n    padding: 14px 28px;\\n    font-size: 16px;\\n    border-radius: 12px; \\n\\n    cursor: pointer;\\n    margin: 8px 0;\\n    width: 100%;\\n    transition: background-color 0.3s ease, transform 0.2s ease;\\n  }\\n  \\n  \\n\\n  button[_ngcontent-%COMP%]:hover {\\n    background-color: #005b8a; \\n\\n    transform: translateY(-2px);\\n  }\\n  \\n  \\n\\n  button[_ngcontent-%COMP%]:active {\\n    background-color: #004070;\\n    transform: translateY(0);\\n  }\\n  \\n  \\n\\n  button.logout[_ngcontent-%COMP%] {\\n    background-color: #ff3b30; \\n\\n  }\\n  \\n  \\n\\n  button.logout[_ngcontent-%COMP%]:hover {\\n    background-color: #e60000;\\n  }\\n  \\n  \\n\\n  @media (max-width: 480px) {\\n    .container[_ngcontent-%COMP%] {\\n      padding: 20px;\\n    }\\n  \\n    h2[_ngcontent-%COMP%] {\\n      font-size: 22px;\\n    }\\n  \\n    button[_ngcontent-%COMP%] {\\n      font-size: 14px;\\n      padding: 12px 24px;\\n    }\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaG9tZS9ob21lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMENBQTBDO0FBQzFDO0lBQ0ksU0FBUztJQUNULFVBQVU7SUFDVixzQkFBc0I7RUFDeEI7O0VBRUEsa0NBQWtDO0VBQ2xDO0lBQ0UsWUFBWTtJQUNaLFNBQVM7SUFDVCxhQUFhO0lBQ2IsdUJBQXVCLEdBQUcseUJBQXlCO0lBQ25ELG1CQUFtQixPQUFPLHVCQUF1QjtJQUNqRCx5QkFBeUIsRUFBRSwrQkFBK0I7SUFDMUQsdUdBQXVHLEVBQUUsa0JBQWtCO0lBQzNILFdBQVcsR0FBRyxvQ0FBb0M7RUFDcEQ7O0VBRUEsMENBQTBDO0VBQzFDO0lBQ0UsV0FBVztJQUNYLFlBQVksRUFBRSxrQ0FBa0M7SUFDaEQsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7RUFDckI7O0VBRUEsbUNBQW1DO0VBQ25DO0lBQ0Usa0JBQWtCO0lBQ2xCLHlCQUF5QixFQUFFLHVDQUF1QztJQUNsRSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLDBDQUEwQyxFQUFFLGdCQUFnQjtJQUM1RCxXQUFXO0lBQ1gsZ0JBQWdCLEVBQUUsZ0NBQWdDO0lBQ2xELGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsdUJBQXVCO0lBQ3ZCLG1CQUFtQjtJQUNuQixzQkFBc0I7RUFDeEI7O0VBRUEsa0JBQWtCO0VBQ2xCO0lBQ0UsZUFBZTtJQUNmLFdBQVc7SUFDWCxtQkFBbUI7SUFDbkIsZ0JBQWdCO0VBQ2xCOztFQUVBLHFCQUFxQjtFQUNyQjtJQUNFLGVBQWU7SUFDZixXQUFXO0lBQ1gsbUJBQW1CO0lBQ25CLGdCQUFnQjtFQUNsQjs7RUFFQSxrQkFBa0I7RUFDbEI7SUFDRSx5QkFBeUIsRUFBRSxhQUFhO0lBQ3hDLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixtQkFBbUIsRUFBRSwyQkFBMkI7SUFDaEQsZUFBZTtJQUNmLGFBQWE7SUFDYixXQUFXO0lBQ1gsMkRBQTJEO0VBQzdEOztFQUVBLHlCQUF5QjtFQUN6QjtJQUNFLHlCQUF5QixFQUFFLHlCQUF5QjtJQUNwRCwyQkFBMkI7RUFDN0I7O0VBRUEsd0JBQXdCO0VBQ3hCO0lBQ0UseUJBQXlCO0lBQ3pCLHdCQUF3QjtFQUMxQjs7RUFFQSx5QkFBeUI7RUFDekI7SUFDRSx5QkFBeUIsRUFBRSxZQUFZO0VBQ3pDOztFQUVBLCtCQUErQjtFQUMvQjtJQUNFLHlCQUF5QjtFQUMzQjs7RUFFQSwwQkFBMEI7RUFDMUI7SUFDRTtNQUNFLGFBQWE7SUFDZjs7SUFFQTtNQUNFLGVBQWU7SUFDakI7O0lBRUE7TUFDRSxlQUFlO01BQ2Ysa0JBQWtCO0lBQ3BCO0VBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBSZXNldCBkZWZhdWx0IGJvZHkgbWFyZ2luIGFuZCBwYWRkaW5nICovXHJcbioge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIEZ1bGwgaGVpZ2h0IGZvciBib2R5IGFuZCBodG1sICovXHJcbiAgYm9keSwgaHRtbCB7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7ICAvKiBDZW50ZXJzIGhvcml6b250YWxseSAqL1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgICAgICAvKiBDZW50ZXJzIHZlcnRpY2FsbHkgKi9cclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjU7IC8qIFNvZnQgbGlnaHQgZ3JheSBiYWNrZ3JvdW5kICovXHJcbiAgICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBcIlNlZ29lIFVJXCIsIFJvYm90bywgXCJIZWx2ZXRpY2EgTmV1ZVwiLCBBcmlhbCwgc2Fucy1zZXJpZjsgLyogaU9TLWxpa2UgZm9udCAqL1xyXG4gICAgY29sb3I6ICMzMzM7ICAvKiBEYXJrIHRleHQgY29sb3IgZm9yIHJlYWRhYmlsaXR5ICovXHJcbiAgfVxyXG4gIFxyXG4gIC8qIEZ1bGwgaGVpZ2h0IHdyYXBwZXIgdG8gY2VudGVyIGNvbnRlbnQgKi9cclxuICAud3JhcHBlciB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTsgLyogTWFrZSB3cmFwcGVyIHRha2UgZnVsbCBoZWlnaHQgKi9cclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIENlbnRlcmVkIGNvbnRhaW5lciBmb3IgY29udGVudCAqL1xyXG4gIC5jb250YWluZXIge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsgLyogV2hpdGUgYmFja2dyb3VuZCBmb3IgdGhlIGNvbnRhaW5lciAqL1xyXG4gICAgcGFkZGluZzogNDBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDEwcHggMjBweCByZ2JhKDAsIDAsIDAsIDAuMSk7IC8qIFNvZnQgc2hhZG93ICovXHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1heC13aWR0aDogNDUwcHg7IC8qIE1heCB3aWR0aCBmb3IgdGhlIGNvbnRhaW5lciAqL1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIH1cclxuICBcclxuICAvKiBIZWFkZXIgc3R5bGVzICovXHJcbiAgaDIge1xyXG4gICAgZm9udC1zaXplOiAyOHB4O1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICB9XHJcbiAgXHJcbiAgLyogUGFyYWdyYXBoIHN0eWxlcyAqL1xyXG4gIHAge1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgY29sb3I6ICM3Nzc7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDEuNTtcclxuICB9XHJcbiAgXHJcbiAgLyogQnV0dG9uIHN0eWxlcyAqL1xyXG4gIGJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YWZmOyAvKiBpT1MgYmx1ZSAqL1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBwYWRkaW5nOiAxNHB4IDI4cHg7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4OyAvKiBSb3VuZGVkIGJ1dHRvbiBjb3JuZXJzICovXHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBtYXJnaW46IDhweCAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZSwgdHJhbnNmb3JtIDAuMnMgZWFzZTtcclxuICB9XHJcbiAgXHJcbiAgLyogQnV0dG9uIGhvdmVyIGVmZmVjdHMgKi9cclxuICBidXR0b246aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNWI4YTsgLyogRGFya2VyIGJsdWUgb24gaG92ZXIgKi9cclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcclxuICB9XHJcbiAgXHJcbiAgLyogQnV0dG9uIGFjdGl2ZSBzdGF0ZSAqL1xyXG4gIGJ1dHRvbjphY3RpdmUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNDA3MDtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICB9XHJcbiAgXHJcbiAgLyogTG9nb3V0IGJ1dHRvbiBzdHlsZXMgKi9cclxuICBidXR0b24ubG9nb3V0IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZjNiMzA7IC8qIGlPUyByZWQgKi9cclxuICB9XHJcbiAgXHJcbiAgLyogTG9nb3V0IGJ1dHRvbiBob3ZlciBlZmZlY3QgKi9cclxuICBidXR0b24ubG9nb3V0OmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlNjAwMDA7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIE1vYmlsZSByZXNwb25zaXZlbmVzcyAqL1xyXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xyXG4gICAgLmNvbnRhaW5lciB7XHJcbiAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBoMiB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMjJweDtcclxuICAgIH1cclxuICBcclxuICAgIGJ1dHRvbiB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgcGFkZGluZzogMTJweCAyNHB4O1xyXG4gICAgfVxyXG4gIH1cclxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["jwtDecode","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","HomeComponent_div_2_Template_button_click_5_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","goLogin","HomeComponent_div_2_Template_button_click_7_listener","ctx_r4","goRegister","HomeComponent_div_3_button_6_Template_button_click_0_listener","_r10","ctx_r9","goManageOrders","HomeComponent_div_3_button_7_Template_button_click_0_listener","_r12","ctx_r11","goCreateOrder","HomeComponent_div_3_button_8_Template_button_click_0_listener","_r14","ctx_r13","goMyOrders","HomeComponent_div_3_button_9_Template_button_click_0_listener","_r16","ctx_r15","goAssignedOrders","ɵɵtemplate","HomeComponent_div_3_button_6_Template","HomeComponent_div_3_button_7_Template","HomeComponent_div_3_button_8_Template","HomeComponent_div_3_button_9_Template","HomeComponent_div_3_Template_button_click_10_listener","_r18","ctx_r17","logout","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","ctx_r1","role","ɵɵproperty","isAdmin","isCustomer","isCourier","HomeComponent","constructor","r","authService","userId","token","getToken","decodedToken","sub","console","log","ngOnInit","isLoggedIn","navigate","ɵɵdirectiveInject","i1","Router","i2","AuthService","selectors","decls","vars","consts","template","HomeComponent_Template","rf","ctx","HomeComponent_div_2_Template","HomeComponent_div_3_Template"],"sources":["C:\\Users\\imoha\\Desktop\\Package_Tracking_System\\frontend\\src\\app\\home\\home.component.ts","C:\\Users\\imoha\\Desktop\\Package_Tracking_System\\frontend\\src\\app\\home\\home.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from '../auth.service';\r\nimport { jwtDecode } from \"jwt-decode\";\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  userId:number|null=null;\r\n  role:string|null=null;\r\n  constructor(private r:Router,private authService:AuthService,){\r\n    const token = this.authService.getToken();\r\n    if (token) {\r\n      const decodedToken: any = jwtDecode(token);\r\n      this.userId = decodedToken.sub; \r\n      this.role=decodedToken.role;\r\n      console.log(\"test1:\"+this.userId)\r\n      console.log(\"test1:\"+this.role)\r\n    }\r\n    else{ \r\n      console.log(\"test2:\"+this.userId)\r\n      console.log(\"test2:\"+this.role)\r\n    }\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n    if (!this.isLoggedIn()) {\r\n      this.r.navigate(['/login']);  // Redirect if not logged in\r\n    }\r\n  }\r\n  goLogin(){\r\n    this.r.navigate([\"/login\"])\r\n  }\r\n  goRegister(){\r\n    this.r.navigate([\"/register\"])\r\n  }\r\n  goCreateOrder(){\r\n    this.r.navigate([\"/orders\"])\r\n  }\r\n  goManageOrders(){\r\n    this.r.navigate([\"/manage-orders\"])\r\n  }\r\n  goMyOrders(){\r\n    this.r.navigate([\"/user-orders\"])\r\n  }\r\n  goAssignedOrders(){\r\n    this.r.navigate([\"/courier\"])\r\n  }\r\n\r\n  isLoggedIn(){\r\n    return this.authService.isLoggedIn();\r\n  }\r\n  isAdmin(){\r\n    if(this.role===\"admin\"){\r\n      return true;\r\n    }\r\n    else{\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isCustomer(){\r\n    return this.role===\"customer\";\r\n  }\r\n\r\n  isCourier(){\r\n    return this.role===\"courier\";\r\n  }\r\n\r\n  logout(){\r\n    this.authService.logout();\r\n    this.userId=null;\r\n    this.role=null;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","<div class=\"wrapper\">\r\n    <div class=\"container\">\r\n      <div *ngIf=\"!isLoggedIn()\">\r\n        <h2>Welcome to the Shipping App!</h2>\r\n        <p>Please log in or register to continue.</p>\r\n        <button (click)=\"goLogin()\">Login</button>\r\n        <button (click)=\"goRegister()\">Register</button>\r\n      </div>\r\n    \r\n      <div *ngIf=\"isLoggedIn()\">\r\n        <h2>Welcome, {{ role | titlecase }}!</h2>\r\n        <p>Choose an option below:</p>\r\n        <button *ngIf=\"isAdmin()\" (click)=\"goManageOrders()\">Manage Orders</button>\r\n        <button *ngIf=\"isCustomer()\" (click)=\"goCreateOrder()\">Create Order</button>\r\n        <button *ngIf=\"isCustomer()\" (click)=\"goMyOrders()\">My Orders</button>\r\n        <button *ngIf=\"isCourier()\" (click)=\"goAssignedOrders()\">Assigned Orders</button>\r\n        <button class=\"logout\" (click)=\"logout()\">Logout</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { jwtDecode } from \"jwt-decode\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"src/app/auth.service\";\nimport * as i3 from \"@angular/forms\";\nexport class orderCreationComponent {\n  constructor(http, authService) {\n    this.http = http;\n    this.authService = authService;\n    this.pickupLocation = '';\n    this.dropOffLocation = '';\n    this.packageDetails = '';\n    this.deliveryTime = '';\n    this.apiUrl = 'http://localhost:8080/orders';\n    this.userId = null;\n    // Decode the token to get the user ID\n    const token = this.authService.getToken();\n    if (token) {\n      const decodedToken = jwtDecode(token);\n      this.userId = decodedToken.sub[\"sub\"]; // Assuming 'sub' stores the user ID\n      console.log(\"testttttt111\" + this.userId);\n    } else {\n      console.log(\"testttttt\" + this.userId);\n    }\n  }\n  onSubmit() {\n    const order = {\n      pickupLocation: this.pickupLocation,\n      dropOffLocation: this.dropOffLocation,\n      packageDetails: this.packageDetails,\n      deliveryTime: this.deliveryTime,\n      user_id: this.userId // Include the user ID\n    };\n\n    this.http.post(this.apiUrl, order).subscribe({\n      next: () => alert('Order created successfully!'),\n      error: err => alert('Failed to create order: ' + err.error)\n    });\n  }\n  static {\n    this.ɵfac = function orderCreationComponent_Factory(t) {\n      return new (t || orderCreationComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: orderCreationComponent,\n      selectors: [[\"app-orderCreation\"]],\n      decls: 32,\n      vars: 4,\n      consts: [[3, \"ngSubmit\"], [\"for\", \"pickupLocation\"], [\"type\", \"text\", \"name\", \"pickupLocation\", \"id\", \"pickupLocation\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"dropOffLocation\"], [\"type\", \"text\", \"name\", \"dropOffLocation\", \"id\", \"dropOffLocation\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"packageDetails\"], [\"type\", \"text\", \"name\", \"packageDetails\", \"id\", \"packageDetails\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"deliveryTime\"], [\"name\", \"deliveryTime\", \"id\", \"deliveryTime\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [\"value\", \"Morning\"], [\"value\", \"Afternoon\"], [\"value\", \"Evening\"], [\"type\", \"submit\", \"value\", \"Create Order\"]],\n      template: function orderCreationComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\");\n          i0.ɵɵtext(1, \"Make an order\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"form\", 0);\n          i0.ɵɵlistener(\"ngSubmit\", function orderCreationComponent_Template_form_ngSubmit_2_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(3, \"label\", 1);\n          i0.ɵɵtext(4, \"Pickup Location\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(5, \"br\");\n          i0.ɵɵelementStart(6, \"input\", 2);\n          i0.ɵɵlistener(\"ngModelChange\", function orderCreationComponent_Template_input_ngModelChange_6_listener($event) {\n            return ctx.pickupLocation = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(7, \"br\");\n          i0.ɵɵelementStart(8, \"label\", 3);\n          i0.ɵɵtext(9, \"Dropoff Location\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(10, \"br\");\n          i0.ɵɵelementStart(11, \"input\", 4);\n          i0.ɵɵlistener(\"ngModelChange\", function orderCreationComponent_Template_input_ngModelChange_11_listener($event) {\n            return ctx.dropOffLocation = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(12, \"br\");\n          i0.ɵɵelementStart(13, \"label\", 5);\n          i0.ɵɵtext(14, \"Package Details\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(15, \"br\");\n          i0.ɵɵelementStart(16, \"input\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function orderCreationComponent_Template_input_ngModelChange_16_listener($event) {\n            return ctx.packageDetails = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(17, \"br\");\n          i0.ɵɵelementStart(18, \"label\", 7);\n          i0.ɵɵtext(19, \"Delivery Time\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(20, \"br\");\n          i0.ɵɵelementStart(21, \"select\", 8);\n          i0.ɵɵlistener(\"ngModelChange\", function orderCreationComponent_Template_select_ngModelChange_21_listener($event) {\n            return ctx.deliveryTime = $event;\n          });\n          i0.ɵɵelementStart(22, \"option\", 9);\n          i0.ɵɵtext(23, \"Select delivery time\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"option\", 10);\n          i0.ɵɵtext(25, \"Morning\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"option\", 11);\n          i0.ɵɵtext(27, \"Afternoon\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"option\", 12);\n          i0.ɵɵtext(29, \"Evening\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(30, \"br\")(31, \"input\", 13);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngModel\", ctx.pickupLocation);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.dropOffLocation);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.packageDetails);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.deliveryTime);\n        }\n      },\n      dependencies: [i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["jwtDecode","orderCreationComponent","constructor","http","authService","pickupLocation","dropOffLocation","packageDetails","deliveryTime","apiUrl","userId","token","getToken","decodedToken","sub","console","log","onSubmit","order","user_id","post","subscribe","next","alert","error","err","i0","ɵɵdirectiveInject","i1","HttpClient","i2","AuthService","selectors","decls","vars","consts","template","orderCreationComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","orderCreationComponent_Template_form_ngSubmit_2_listener","ɵɵelement","orderCreationComponent_Template_input_ngModelChange_6_listener","$event","orderCreationComponent_Template_input_ngModelChange_11_listener","orderCreationComponent_Template_input_ngModelChange_16_listener","orderCreationComponent_Template_select_ngModelChange_21_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\imoha\\Desktop\\Package_Tracking_System\\frontend\\src\\app\\components\\orderCreation\\orderCreation.component.ts","C:\\Users\\imoha\\Desktop\\Package_Tracking_System\\frontend\\src\\app\\components\\orderCreation\\orderCreation.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { AuthService } from 'src/app/auth.service';\r\nimport { jwtDecode } from \"jwt-decode\";\r\n\r\n@Component({\r\n  selector: 'app-orderCreation',\r\n  templateUrl: './orderCreation.component.html',\r\n})\r\nexport class orderCreationComponent {\r\n  pickupLocation: string = '';\r\n  dropOffLocation: string = '';\r\n  packageDetails: string = '';\r\n  deliveryTime: string = '';\r\n  private apiUrl = 'http://localhost:8080/orders';\r\n  userId: number | null = null;\r\n\r\n  constructor(private http: HttpClient, private authService: AuthService) {\r\n    // Decode the token to get the user ID\r\n    const token = this.authService.getToken();\r\n    if (token) {\r\n      const decodedToken: any = jwtDecode(token);\r\n      this.userId = decodedToken.sub[\"sub\"]; // Assuming 'sub' stores the user ID\r\n      console.log(\"testttttt111\"+this.userId)\r\n    }\r\n    else{\r\n      console.log(\"testttttt\"+this.userId)\r\n    }\r\n  }\r\n\r\n  onSubmit() {\r\n    const order = {\r\n      pickupLocation: this.pickupLocation,\r\n      dropOffLocation: this.dropOffLocation,\r\n      packageDetails: this.packageDetails,\r\n      deliveryTime: this.deliveryTime,\r\n      user_id: this.userId, // Include the user ID\r\n    };\r\n\r\n    this.http.post(this.apiUrl, order).subscribe({\r\n      next: () => alert('Order created successfully!'),\r\n      error: (err) => alert('Failed to create order: ' + err.error),\r\n    });\r\n  }\r\n}\r\n\r\n\r\n/*<!--type Order struct {\r\n\tOrderNumber     string `json:\"orderNumber\"`\r\n\tPickupLocation  string `json:\"pickupLocation\"`\r\n\tDropOffLocation string `json:\"dropOffLocation\"`\r\n\tPackageDetails  string `json:\"packageDetails\"`\r\n\tDeliveryTime    string `json:\"deliveryTime\"`\r\n}\r\n-->*/","<h2>Make an order</h2>\r\n<form (ngSubmit)=\"onSubmit()\">\r\n    <label for=\"pickupLocation\">Pickup Location</label><br>\r\n    <input type=\"text\" [(ngModel)]=\"pickupLocation\" name=\"pickupLocation\" id=\"pickupLocation\" required><br>\r\n\r\n    <label for=\"dropOffLocation\">Dropoff Location</label><br>\r\n    <input type=\"text\" [(ngModel)]=\"dropOffLocation\" name=\"dropOffLocation\" id=\"dropOffLocation\" required><br>\r\n\r\n    <label for=\"packageDetails\">Package Details</label><br>\r\n    <input type=\"text\" [(ngModel)]=\"packageDetails\" name=\"packageDetails\" id=\"packageDetails\" required><br>\r\n\r\n    <label for=\"deliveryTime\">Delivery Time</label><br>\r\n    <select [(ngModel)]=\"deliveryTime\" name=\"deliveryTime\" id=\"deliveryTime\" required>\r\n        <option value=\"\" disabled selected>Select delivery time</option>\r\n        <option value=\"Morning\">Morning</option>\r\n        <option value=\"Afternoon\">Afternoon</option>\r\n        <option value=\"Evening\">Evening</option>\r\n    </select><br>\r\n    \r\n    <input type=\"submit\" value=\"Create Order\">\r\n</form>\r\n\r\n\r\n<!--type Order struct {\r\n\tOrderNumber     string `json:\"orderNumber\"`\r\n\tPickupLocation  string `json:\"pickupLocation\"`\r\n\tDropOffLocation string `json:\"dropOffLocation\"`\r\n\tPackageDetails  string `json:\"packageDetails\"`\r\n\tDeliveryTime    string `json:\"deliveryTime\"`\r\n}\r\n-->"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
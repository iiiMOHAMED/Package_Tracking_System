{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../order.service\";\nimport * as i3 from \"@angular/common\";\nfunction OrderDetailsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nfunction OrderDetailsComponent_div_3_table_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 8)(1, \"tr\")(2, \"th\");\n    i0.ɵɵtext(3, \"Order Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"tr\")(7, \"th\");\n    i0.ɵɵtext(8, \"Pickup Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"tr\")(12, \"th\");\n    i0.ɵɵtext(13, \"Dropoff Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"tr\")(17, \"th\");\n    i0.ɵɵtext(18, \"Package Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"tr\")(22, \"th\");\n    i0.ɵɵtext(23, \"Delivery Time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\");\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(26, \"tr\")(27, \"th\");\n    i0.ɵɵtext(28, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"td\");\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"tr\")(32, \"th\");\n    i0.ɵɵtext(33, \"Courier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"td\");\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.orderDetails.orderNumber);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.orderDetails.pickupLocation);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.orderDetails.dropOffLocation);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.orderDetails.packageDetails);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.orderDetails.deliveryTime);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.orderDetails.status);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.orderDetails.courierId ? ctx_r2.orderDetails.courierId : \"Not Assigned\");\n  }\n}\nfunction OrderDetailsComponent_div_3_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function OrderDetailsComponent_div_3_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.deleteOrder());\n    });\n    i0.ɵɵtext(1, \"Cancel Order\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrderDetailsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, OrderDetailsComponent_div_3_table_1_Template, 36, 7, \"table\", 5);\n    i0.ɵɵelementStart(2, \"div\", 6);\n    i0.ɵɵtemplate(3, OrderDetailsComponent_div_3_button_3_Template, 2, 0, \"button\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.orderDetails);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.orderDetails.status === \"pending\");\n  }\n}\nexport class OrderDetailsComponent {\n  constructor(route, orderService, router) {\n    this.route = route;\n    this.orderService = orderService;\n    this.router = router;\n    this.orderDetails = {}; // Store order details\n    this.error = ''; // Store error message if any\n    this.successMessage = ''; // Store success message after deleting order\n  }\n\n  ngOnInit() {\n    // Retrieve the orderNumber from the URL using snapshot\n    const orderNumberStr = this.route.snapshot.paramMap.get('orderNumber');\n    if (orderNumberStr) {\n      const orderNumber = +orderNumberStr;\n      if (orderNumber) {\n        this.orderService.getOrderDetails(orderNumber).subscribe({\n          next: data => {\n            this.orderDetails = data; // Set the order details\n          },\n\n          error: err => {\n            this.error = 'Error fetching order details.'; // Error handling\n          }\n        });\n      } else {\n        this.error = 'Invalid order number.'; // If the orderNumber is invalid\n      }\n    } else {\n      this.error = 'Order number not provided.'; // If no order number is found in URL\n    }\n  }\n\n  deleteOrder() {\n    if (this.orderDetails.status === 'pending') {\n      // Call the service to delete the order\n      this.orderService.deleteOrder(this.orderDetails.orderNumber).subscribe({\n        next: () => {\n          this.successMessage = 'Order canceled successfully.';\n          this.orderDetails = {}; // Clear the order details after successful deletion\n          this.router.navigate(['/user-orders']); // Redirect to the user's orders page after successful deletion\n        },\n\n        error: err => {\n          this.error = 'Error canceling order.';\n        }\n      });\n    } else {\n      this.error = 'You can only cancel pending orders';\n    }\n  }\n  static {\n    this.ɵfac = function OrderDetailsComponent_Factory(t) {\n      return new (t || OrderDetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.OrderService), i0.ɵɵdirectiveInject(i1.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: OrderDetailsComponent,\n      selectors: [[\"app-order-details\"]],\n      decls: 7,\n      vars: 2,\n      consts: [[\"class\", \"error-message\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"back-button\"], [\"routerLink\", \"/user-orders\"], [1, \"error-message\"], [\"class\", \"order-details-table\", 4, \"ngIf\"], [1, \"cancel-order-button\"], [3, \"click\", 4, \"ngIf\"], [1, \"order-details-table\"], [3, \"click\"]],\n      template: function OrderDetailsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\");\n          i0.ɵɵtext(1, \"Order Details\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(2, OrderDetailsComponent_div_2_Template, 3, 1, \"div\", 0);\n          i0.ɵɵtemplate(3, OrderDetailsComponent_div_3_Template, 4, 2, \"div\", 1);\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"button\", 3);\n          i0.ɵɵtext(6, \"Back to User Orders\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.error && ctx.orderDetails);\n        }\n      },\n      dependencies: [i3.NgIf, i1.RouterLink],\n      styles: [\"\\n\\nbody[_ngcontent-%COMP%] {\\n    font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", \\\"Roboto\\\", \\\"Oxygen\\\", \\\"Ubuntu\\\", \\\"Cantarell\\\", \\\"Fira Sans\\\", \\\"Droid Sans\\\", \\\"Helvetica Neue\\\", sans-serif;\\n    background-color: #f5f5f7; \\n\\n    color: #333;\\n    margin: 0;\\n    padding: 0;\\n  }\\n  \\n  \\n\\n  h2[_ngcontent-%COMP%] {\\n    font-size: 28px;\\n    text-align: center;\\n    color: #007aff; \\n\\n    padding-top: 20px;\\n    padding-bottom: 15px;\\n    font-weight: 600;\\n  }\\n  \\n  \\n\\n  .error-message[_ngcontent-%COMP%] {\\n    color: red;\\n    text-align: center;\\n    font-size: 16px;\\n    margin-top: 20px;\\n  }\\n  \\n  \\n\\n  .order-details-container[_ngcontent-%COMP%] {\\n    padding: 15px;\\n    background-color: #ffffff;\\n    margin-top: 20px;\\n    border-radius: 12px;\\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\\n  }\\n  \\n  \\n\\n  .order-details-table[_ngcontent-%COMP%] {\\n    width: 100%;\\n    border-spacing: 0;\\n    margin-bottom: 20px;\\n  }\\n  \\n  .order-details-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n    font-weight: 600;\\n    text-align: left;\\n    color: #007aff; \\n\\n    padding: 12px;\\n    background-color: #f1f1f6;\\n  }\\n  \\n  .order-details-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    padding: 12px;\\n    font-size: 16px;\\n    color: #333;\\n    background-color: #f9f9fc;\\n    border-top: 1px solid #e1e1e6;\\n  }\\n  \\n  \\n\\n  button[_ngcontent-%COMP%] {\\n    background-color: #007aff; \\n\\n    color: white;\\n    padding: 10px 20px;\\n    font-size: 16px;\\n    border-radius: 10px;\\n    cursor: pointer;\\n    border: none;\\n    width: 100%;\\n    margin-top: 15px;\\n    transition: background-color 0.3s ease;\\n  }\\n  \\n  \\n\\n  button[_ngcontent-%COMP%]:hover {\\n    background-color: #0051a8;\\n  }\\n  \\n  button[_ngcontent-%COMP%]:active {\\n    background-color: #00408c;\\n  }\\n  \\n  \\n\\n  .cancel-order-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    background-color: #ff3b30; \\n\\n  }\\n  \\n  .cancel-order-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n    background-color: #d92c21;\\n  }\\n  \\n  .cancel-order-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active {\\n    background-color: #b12114;\\n  }\\n  \\n  \\n\\n  .back-button[_ngcontent-%COMP%] {\\n    text-align: center;\\n    margin-top: 20px;\\n  }\\n  \\n  .back-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    background-color: #d1d1d6; \\n\\n    color: #333;\\n    padding: 12px 20px;\\n    font-size: 16px;\\n    border-radius: 10px;\\n    width: 100%;\\n    border: none;\\n  }\\n  \\n  .back-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n    background-color: #b0b0b5;\\n  }\\n  \\n  .back-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active {\\n    background-color: #9b9b9f;\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvb3JkZXItZGV0YWlscy9vcmRlci1kZXRhaWxzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCO0FBQ2pCO0lBQ0ksOEpBQThKO0lBQzlKLHlCQUF5QixFQUFFLHlCQUF5QjtJQUNwRCxXQUFXO0lBQ1gsU0FBUztJQUNULFVBQVU7RUFDWjs7RUFFQSx1QkFBdUI7RUFDdkI7SUFDRSxlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLGNBQWMsRUFBRSxtQkFBbUI7SUFDbkMsaUJBQWlCO0lBQ2pCLG9CQUFvQjtJQUNwQixnQkFBZ0I7RUFDbEI7O0VBRUEsa0JBQWtCO0VBQ2xCO0lBQ0UsVUFBVTtJQUNWLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsZ0JBQWdCO0VBQ2xCOztFQUVBLGdDQUFnQztFQUNoQztJQUNFLGFBQWE7SUFDYix5QkFBeUI7SUFDekIsZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQix5Q0FBeUM7RUFDM0M7O0VBRUEsb0NBQW9DO0VBQ3BDO0lBQ0UsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixtQkFBbUI7RUFDckI7O0VBRUE7SUFDRSxnQkFBZ0I7SUFDaEIsZ0JBQWdCO0lBQ2hCLGNBQWMsRUFBRSxhQUFhO0lBQzdCLGFBQWE7SUFDYix5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSxhQUFhO0lBQ2IsZUFBZTtJQUNmLFdBQVc7SUFDWCx5QkFBeUI7SUFDekIsNkJBQTZCO0VBQy9COztFQUVBLG1CQUFtQjtFQUNuQjtJQUNFLHlCQUF5QixFQUFFLG1CQUFtQjtJQUM5QyxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixtQkFBbUI7SUFDbkIsZUFBZTtJQUNmLFlBQVk7SUFDWixXQUFXO0lBQ1gsZ0JBQWdCO0lBQ2hCLHNDQUFzQztFQUN4Qzs7RUFFQSx3Q0FBd0M7RUFDeEM7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUEsOEJBQThCO0VBQzlCO0lBQ0UseUJBQXlCLEVBQUUseUJBQXlCO0VBQ3REOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCOztFQUVBLHdCQUF3QjtFQUN4QjtJQUNFLGtCQUFrQjtJQUNsQixnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSx5QkFBeUIsRUFBRSxhQUFhO0lBQ3hDLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLG1CQUFtQjtJQUNuQixXQUFXO0lBQ1gsWUFBWTtFQUNkOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCIiwic291cmNlc0NvbnRlbnQiOlsiLyogQm9keSBzdHlsaW5nICovXHJcbmJvZHkge1xyXG4gICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgXCJTZWdvZSBVSVwiLCBcIlJvYm90b1wiLCBcIk94eWdlblwiLCBcIlVidW50dVwiLCBcIkNhbnRhcmVsbFwiLCBcIkZpcmEgU2Fuc1wiLCBcIkRyb2lkIFNhbnNcIiwgXCJIZWx2ZXRpY2EgTmV1ZVwiLCBzYW5zLXNlcmlmO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjVmNzsgLyogaU9TIGJhY2tncm91bmQgY29sb3IgKi9cclxuICAgIGNvbG9yOiAjMzMzO1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICB9XHJcbiAgXHJcbiAgLyogVGl0bGUgKGgyKSBTdHlsaW5nICovXHJcbiAgaDIge1xyXG4gICAgZm9udC1zaXplOiAyOHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgY29sb3I6ICMwMDdhZmY7IC8qIGlPUyBibHVlIGNvbG9yICovXHJcbiAgICBwYWRkaW5nLXRvcDogMjBweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxNXB4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICB9XHJcbiAgXHJcbiAgLyogRXJyb3IgbWVzc2FnZSAqL1xyXG4gIC5lcnJvci1tZXNzYWdlIHtcclxuICAgIGNvbG9yOiByZWQ7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gIH1cclxuICBcclxuICAvKiBDb250YWluZXIgZm9yIG9yZGVyIGRldGFpbHMgKi9cclxuICAub3JkZXItZGV0YWlscy1jb250YWluZXIge1xyXG4gICAgcGFkZGluZzogMTVweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gIH1cclxuICBcclxuICAvKiBUYWJsZSBzdHlsaW5nIGZvciBvcmRlciBkZXRhaWxzICovXHJcbiAgLm9yZGVyLWRldGFpbHMtdGFibGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBib3JkZXItc3BhY2luZzogMDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5vcmRlci1kZXRhaWxzLXRhYmxlIHRoIHtcclxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgY29sb3I6ICMwMDdhZmY7IC8qIGlPUyBibHVlICovXHJcbiAgICBwYWRkaW5nOiAxMnB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjFmNjtcclxuICB9XHJcbiAgXHJcbiAgLm9yZGVyLWRldGFpbHMtdGFibGUgdGQge1xyXG4gICAgcGFkZGluZzogMTJweDtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGNvbG9yOiAjMzMzO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmYztcclxuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTFlMWU2O1xyXG4gIH1cclxuICBcclxuICAvKiBCdXR0b24gU3R5bGluZyAqL1xyXG4gIGJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YWZmOyAvKiBpT1MgYmx1ZSBjb2xvciAqL1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWFyZ2luLXRvcDogMTVweDtcclxuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlO1xyXG4gIH1cclxuICBcclxuICAvKiBIb3ZlciBhbmQgYWN0aXZlIHN0YXRlcyBmb3IgYnV0dG9ucyAqL1xyXG4gIGJ1dHRvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1MWE4O1xyXG4gIH1cclxuICBcclxuICBidXR0b246YWN0aXZlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDQwOGM7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIENhbmNlbCBvcmRlciBidXR0b24gc3R5bGUgKi9cclxuICAuY2FuY2VsLW9yZGVyLWJ1dHRvbiBidXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmM2IzMDsgLyogUmVkIGNvbG9yIGZvciBjYW5jZWwgKi9cclxuICB9XHJcbiAgXHJcbiAgLmNhbmNlbC1vcmRlci1idXR0b24gYnV0dG9uOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkOTJjMjE7XHJcbiAgfVxyXG4gIFxyXG4gIC5jYW5jZWwtb3JkZXItYnV0dG9uIGJ1dHRvbjphY3RpdmUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2IxMjExNDtcclxuICB9XHJcbiAgXHJcbiAgLyogQmFjayBidXR0b24gc3R5bGluZyAqL1xyXG4gIC5iYWNrLWJ1dHRvbiB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gIH1cclxuICBcclxuICAuYmFjay1idXR0b24gYnV0dG9uIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkMWQxZDY7IC8qIGlPUyBncmF5ICovXHJcbiAgICBjb2xvcjogIzMzMztcclxuICAgIHBhZGRpbmc6IDEycHggMjBweDtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICB9XHJcbiAgXHJcbiAgLmJhY2stYnV0dG9uIGJ1dHRvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjBiMGI1O1xyXG4gIH1cclxuICBcclxuICAuYmFjay1idXR0b24gYnV0dG9uOmFjdGl2ZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOWI5YjlmO1xyXG4gIH1cclxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","error","ctx_r2","orderDetails","orderNumber","pickupLocation","dropOffLocation","packageDetails","deliveryTime","status","courierId","ɵɵlistener","OrderDetailsComponent_div_3_button_3_Template_button_click_0_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","deleteOrder","ɵɵtemplate","OrderDetailsComponent_div_3_table_1_Template","OrderDetailsComponent_div_3_button_3_Template","ɵɵproperty","ctx_r1","OrderDetailsComponent","constructor","route","orderService","router","successMessage","ngOnInit","orderNumberStr","snapshot","paramMap","get","getOrderDetails","subscribe","next","data","err","navigate","ɵɵdirectiveInject","i1","ActivatedRoute","i2","OrderService","Router","selectors","decls","vars","consts","template","OrderDetailsComponent_Template","rf","ctx","OrderDetailsComponent_div_2_Template","OrderDetailsComponent_div_3_Template"],"sources":["C:\\Users\\imoha\\Desktop\\Package_Tracking_System\\frontend\\src\\app\\order-details\\order-details.component.ts","C:\\Users\\imoha\\Desktop\\Package_Tracking_System\\frontend\\src\\app\\order-details\\order-details.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { OrderService } from '../order.service';  // Adjust the path based on your project structure\r\n\r\n@Component({\r\n  selector: 'app-order-details',\r\n  templateUrl: './order-details.component.html',\r\n  styleUrls: ['./order-details.component.css']\r\n})\r\nexport class OrderDetailsComponent implements OnInit {\r\n  orderDetails: any = {};  // Store order details\r\n  error: string = '';  // Store error message if any\r\n  successMessage: string = '';  // Store success message after deleting order\r\n\r\n  constructor(private route: ActivatedRoute, private orderService: OrderService, private router: Router) {}\r\n\r\n  ngOnInit(): void {\r\n    // Retrieve the orderNumber from the URL using snapshot\r\n    const orderNumberStr = this.route.snapshot.paramMap.get('orderNumber');\r\n    \r\n    if (orderNumberStr) {\r\n      const orderNumber = +orderNumberStr;\r\n      if (orderNumber) {\r\n        this.orderService.getOrderDetails(orderNumber).subscribe({\r\n          next: (data) => {\r\n            this.orderDetails = data;  // Set the order details\r\n          },\r\n          error: (err) => {\r\n            this.error = 'Error fetching order details.';  // Error handling\r\n          }\r\n        });\r\n      } else {\r\n        this.error = 'Invalid order number.';  // If the orderNumber is invalid\r\n      }\r\n    } else {\r\n      this.error = 'Order number not provided.';  // If no order number is found in URL\r\n    }\r\n  }\r\n\r\n  deleteOrder(): void {\r\n    if (this.orderDetails.status === 'pending') {\r\n      // Call the service to delete the order\r\n      this.orderService.deleteOrder(this.orderDetails.orderNumber).subscribe({\r\n        next: () => {\r\n          this.successMessage = 'Order canceled successfully.';\r\n          this.orderDetails = {};  // Clear the order details after successful deletion\r\n          this.router.navigate(['/user-orders']); // Redirect to the user's orders page after successful deletion\r\n        },\r\n        error: (err) => {\r\n          this.error = 'Error canceling order.';\r\n        }\r\n      });\r\n    } else {\r\n      this.error = 'You can only cancel pending orders';\r\n    }\r\n  }\r\n}\r\n","<h2>Order Details</h2>\r\n\r\n<!-- Display error message if any -->\r\n<div *ngIf=\"error\" class=\"error-message\">\r\n  <p>{{ error }}</p>\r\n</div>\r\n\r\n<!-- Display order details if available -->\r\n<div *ngIf=\"!error && orderDetails\">\r\n  <table *ngIf=\"orderDetails\" class=\"order-details-table\">\r\n    <tr>\r\n      <th>Order Number</th>\r\n      <td>{{ orderDetails.orderNumber }}</td>\r\n    </tr>\r\n    <tr>\r\n      <th>Pickup Location</th>\r\n      <td>{{ orderDetails.pickupLocation }}</td>\r\n    </tr>\r\n    <tr>\r\n      <th>Dropoff Location</th>\r\n      <td>{{ orderDetails.dropOffLocation }}</td>\r\n    </tr>\r\n    <tr>\r\n      <th>Package Details</th>\r\n      <td>{{ orderDetails.packageDetails }}</td>\r\n    </tr>\r\n    <tr>\r\n      <th>Delivery Time</th>\r\n      <td>{{ orderDetails.deliveryTime }}</td>\r\n    </tr>\r\n    <tr>\r\n      <th>Status</th>\r\n      <td>{{ orderDetails.status }}</td>\r\n    </tr>\r\n    <tr>\r\n      <th>Courier</th>\r\n      <td>{{ orderDetails.courierId ? orderDetails.courierId : 'Not Assigned' }}</td>\r\n    </tr>\r\n  </table>\r\n\r\n  <!-- Cancel Order button, shown only if order status is 'pending' -->\r\n  <div class=\"cancel-order-button\">\r\n    <button *ngIf=\"orderDetails.status === 'pending'\" (click)=\"deleteOrder()\">Cancel Order</button>\r\n  </div>\r\n</div>\r\n\r\n<!-- Button to navigate back to user orders page -->\r\n<div class=\"back-button\">\r\n  <button routerLink=\"/user-orders\">Back to User Orders</button>\r\n</div>\r\n"],"mappings":";;;;;;ICGAA,EAAA,CAAAC,cAAA,aAAyC;IACpCD,EAAA,CAAAE,MAAA,GAAW;IAAAF,EAAA,CAAAG,YAAA,EAAI;;;;IAAfH,EAAA,CAAAI,SAAA,GAAW;IAAXJ,EAAA,CAAAK,iBAAA,CAAAC,MAAA,CAAAC,KAAA,CAAW;;;;;IAKdP,EAAA,CAAAC,cAAA,eAAwD;IAEhDD,EAAA,CAAAE,MAAA,mBAAY;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACrBH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,GAA8B;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAEzCH,EAAA,CAAAC,cAAA,SAAI;IACED,EAAA,CAAAE,MAAA,sBAAe;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACxBH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,IAAiC;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAE5CH,EAAA,CAAAC,cAAA,UAAI;IACED,EAAA,CAAAE,MAAA,wBAAgB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACzBH,EAAA,CAAAC,cAAA,UAAI;IAAAD,EAAA,CAAAE,MAAA,IAAkC;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAE7CH,EAAA,CAAAC,cAAA,UAAI;IACED,EAAA,CAAAE,MAAA,uBAAe;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACxBH,EAAA,CAAAC,cAAA,UAAI;IAAAD,EAAA,CAAAE,MAAA,IAAiC;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAE5CH,EAAA,CAAAC,cAAA,UAAI;IACED,EAAA,CAAAE,MAAA,qBAAa;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACtBH,EAAA,CAAAC,cAAA,UAAI;IAAAD,EAAA,CAAAE,MAAA,IAA+B;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAE1CH,EAAA,CAAAC,cAAA,UAAI;IACED,EAAA,CAAAE,MAAA,cAAM;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACfH,EAAA,CAAAC,cAAA,UAAI;IAAAD,EAAA,CAAAE,MAAA,IAAyB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAEpCH,EAAA,CAAAC,cAAA,UAAI;IACED,EAAA,CAAAE,MAAA,eAAO;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAChBH,EAAA,CAAAC,cAAA,UAAI;IAAAD,EAAA,CAAAE,MAAA,IAAsE;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAxB3EH,EAAA,CAAAI,SAAA,GAA8B;IAA9BJ,EAAA,CAAAK,iBAAA,CAAAG,MAAA,CAAAC,YAAA,CAAAC,WAAA,CAA8B;IAI9BV,EAAA,CAAAI,SAAA,GAAiC;IAAjCJ,EAAA,CAAAK,iBAAA,CAAAG,MAAA,CAAAC,YAAA,CAAAE,cAAA,CAAiC;IAIjCX,EAAA,CAAAI,SAAA,GAAkC;IAAlCJ,EAAA,CAAAK,iBAAA,CAAAG,MAAA,CAAAC,YAAA,CAAAG,eAAA,CAAkC;IAIlCZ,EAAA,CAAAI,SAAA,GAAiC;IAAjCJ,EAAA,CAAAK,iBAAA,CAAAG,MAAA,CAAAC,YAAA,CAAAI,cAAA,CAAiC;IAIjCb,EAAA,CAAAI,SAAA,GAA+B;IAA/BJ,EAAA,CAAAK,iBAAA,CAAAG,MAAA,CAAAC,YAAA,CAAAK,YAAA,CAA+B;IAI/Bd,EAAA,CAAAI,SAAA,GAAyB;IAAzBJ,EAAA,CAAAK,iBAAA,CAAAG,MAAA,CAAAC,YAAA,CAAAM,MAAA,CAAyB;IAIzBf,EAAA,CAAAI,SAAA,GAAsE;IAAtEJ,EAAA,CAAAK,iBAAA,CAAAG,MAAA,CAAAC,YAAA,CAAAO,SAAA,GAAAR,MAAA,CAAAC,YAAA,CAAAO,SAAA,kBAAsE;;;;;;IAM5EhB,EAAA,CAAAC,cAAA,gBAA0E;IAAxBD,EAAA,CAAAiB,UAAA,mBAAAC,sEAAA;MAAAlB,EAAA,CAAAmB,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAArB,EAAA,CAAAsB,aAAA;MAAA,OAAStB,EAAA,CAAAuB,WAAA,CAAAF,MAAA,CAAAG,WAAA,EAAa;IAAA,EAAC;IAACxB,EAAA,CAAAE,MAAA,mBAAY;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;;IAlCnGH,EAAA,CAAAC,cAAA,UAAoC;IAClCD,EAAA,CAAAyB,UAAA,IAAAC,4CAAA,oBA6BQ;IAGR1B,EAAA,CAAAC,cAAA,aAAiC;IAC/BD,EAAA,CAAAyB,UAAA,IAAAE,6CAAA,oBAA+F;IACjG3B,EAAA,CAAAG,YAAA,EAAM;;;;IAlCEH,EAAA,CAAAI,SAAA,GAAkB;IAAlBJ,EAAA,CAAA4B,UAAA,SAAAC,MAAA,CAAApB,YAAA,CAAkB;IAiCfT,EAAA,CAAAI,SAAA,GAAuC;IAAvCJ,EAAA,CAAA4B,UAAA,SAAAC,MAAA,CAAApB,YAAA,CAAAM,MAAA,eAAuC;;;ADjCpD,OAAM,MAAOe,qBAAqB;EAKhCC,YAAoBC,KAAqB,EAAUC,YAA0B,EAAUC,MAAc;IAAjF,KAAAF,KAAK,GAALA,KAAK;IAA0B,KAAAC,YAAY,GAAZA,YAAY;IAAwB,KAAAC,MAAM,GAANA,MAAM;IAJ7F,KAAAzB,YAAY,GAAQ,EAAE,CAAC,CAAE;IACzB,KAAAF,KAAK,GAAW,EAAE,CAAC,CAAE;IACrB,KAAA4B,cAAc,GAAW,EAAE,CAAC,CAAE;EAE0E;;EAExGC,QAAQA,CAAA;IACN;IACA,MAAMC,cAAc,GAAG,IAAI,CAACL,KAAK,CAACM,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,aAAa,CAAC;IAEtE,IAAIH,cAAc,EAAE;MAClB,MAAM3B,WAAW,GAAG,CAAC2B,cAAc;MACnC,IAAI3B,WAAW,EAAE;QACf,IAAI,CAACuB,YAAY,CAACQ,eAAe,CAAC/B,WAAW,CAAC,CAACgC,SAAS,CAAC;UACvDC,IAAI,EAAGC,IAAI,IAAI;YACb,IAAI,CAACnC,YAAY,GAAGmC,IAAI,CAAC,CAAE;UAC7B,CAAC;;UACDrC,KAAK,EAAGsC,GAAG,IAAI;YACb,IAAI,CAACtC,KAAK,GAAG,+BAA+B,CAAC,CAAE;UACjD;SACD,CAAC;OACH,MAAM;QACL,IAAI,CAACA,KAAK,GAAG,uBAAuB,CAAC,CAAE;;KAE1C,MAAM;MACL,IAAI,CAACA,KAAK,GAAG,4BAA4B,CAAC,CAAE;;EAEhD;;EAEAiB,WAAWA,CAAA;IACT,IAAI,IAAI,CAACf,YAAY,CAACM,MAAM,KAAK,SAAS,EAAE;MAC1C;MACA,IAAI,CAACkB,YAAY,CAACT,WAAW,CAAC,IAAI,CAACf,YAAY,CAACC,WAAW,CAAC,CAACgC,SAAS,CAAC;QACrEC,IAAI,EAAEA,CAAA,KAAK;UACT,IAAI,CAACR,cAAc,GAAG,8BAA8B;UACpD,IAAI,CAAC1B,YAAY,GAAG,EAAE,CAAC,CAAE;UACzB,IAAI,CAACyB,MAAM,CAACY,QAAQ,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;QAC1C,CAAC;;QACDvC,KAAK,EAAGsC,GAAG,IAAI;UACb,IAAI,CAACtC,KAAK,GAAG,wBAAwB;QACvC;OACD,CAAC;KACH,MAAM;MACL,IAAI,CAACA,KAAK,GAAG,oCAAoC;;EAErD;;;uBA9CWuB,qBAAqB,EAAA9B,EAAA,CAAA+C,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAAjD,EAAA,CAAA+C,iBAAA,CAAAG,EAAA,CAAAC,YAAA,GAAAnD,EAAA,CAAA+C,iBAAA,CAAAC,EAAA,CAAAI,MAAA;IAAA;EAAA;;;YAArBtB,qBAAqB;MAAAuB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,+BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCTlC3D,EAAA,CAAAC,cAAA,SAAI;UAAAD,EAAA,CAAAE,MAAA,oBAAa;UAAAF,EAAA,CAAAG,YAAA,EAAK;UAGtBH,EAAA,CAAAyB,UAAA,IAAAoC,oCAAA,iBAEM;UAGN7D,EAAA,CAAAyB,UAAA,IAAAqC,oCAAA,iBAoCM;UAGN9D,EAAA,CAAAC,cAAA,aAAyB;UACWD,EAAA,CAAAE,MAAA,0BAAmB;UAAAF,EAAA,CAAAG,YAAA,EAAS;;;UA7C1DH,EAAA,CAAAI,SAAA,GAAW;UAAXJ,EAAA,CAAA4B,UAAA,SAAAgC,GAAA,CAAArD,KAAA,CAAW;UAKXP,EAAA,CAAAI,SAAA,GAA4B;UAA5BJ,EAAA,CAAA4B,UAAA,UAAAgC,GAAA,CAAArD,KAAA,IAAAqD,GAAA,CAAAnD,YAAA,CAA4B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
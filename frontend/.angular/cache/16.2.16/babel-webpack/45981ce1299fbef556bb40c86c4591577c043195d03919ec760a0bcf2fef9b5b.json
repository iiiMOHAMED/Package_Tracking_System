{"ast":null,"code":"import { jwtDecode } from \"jwt-decode\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../courier.service\";\nimport * as i3 from \"../order.service\";\nimport * as i4 from \"../auth.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction CourierComponent_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.errorMessage);\n  }\n}\nfunction CourierComponent_table_3_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"select\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function CourierComponent_table_3_tr_18_Template_select_ngModelChange_12_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const order_r5 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(order_r5.newStatus = $event);\n    });\n    i0.ɵɵelementStart(13, \"option\", 7);\n    i0.ɵɵtext(14, \"Pending\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"option\", 8);\n    i0.ɵɵtext(16, \"Picked Up\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"option\", 9);\n    i0.ɵɵtext(18, \"In Transit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"option\", 10);\n    i0.ɵɵtext(20, \"Delivered\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function CourierComponent_table_3_tr_18_Template_button_click_21_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const order_r5 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.updateStatus(order_r5.orderNumber, order_r5.newStatus));\n    });\n    i0.ɵɵtext(22, \"Update\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"td\")(24, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function CourierComponent_table_3_tr_18_Template_button_click_24_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const order_r5 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.acceptOrder(order_r5.orderNumber));\n    });\n    i0.ɵɵtext(25, \"Accept\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function CourierComponent_table_3_tr_18_Template_button_click_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const order_r5 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.clearCourier(order_r5.orderNumber));\n    });\n    i0.ɵɵtext(27, \"Clear\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function CourierComponent_table_3_tr_18_Template_button_click_28_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const order_r5 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.declineOrder(order_r5.orderNumber));\n    });\n    i0.ɵɵtext(29, \"Decline\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function CourierComponent_table_3_tr_18_Template_button_click_30_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const order_r5 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.revive(order_r5.orderNumber));\n    });\n    i0.ɵɵtext(31, \"revive\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const order_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r5.orderNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r5.pickupLocation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r5.dropOffLocation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r5.packageDetails);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r5.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", order_r5.newStatus);\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"disabled\", order_r5.status !== \"pending\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", order_r5.status !== \"pending\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", order_r5.status !== \"pending\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", order_r5.status !== \"pending\");\n  }\n}\nfunction CourierComponent_table_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 4)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Order ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Pickup Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Dropoff Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Package Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Update Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, CourierComponent_table_3_tr_18_Template, 32, 10, \"tr\", 5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.orders);\n  }\n}\nfunction CourierComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No orders assigned to you currently.\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class CourierComponent {\n  constructor(http, courierService, orderService, authService) {\n    this.http = http;\n    this.courierService = courierService;\n    this.orderService = orderService;\n    this.authService = authService;\n    this.pickupLocation = '';\n    this.dropOffLocation = '';\n    this.packageDetails = '';\n    this.deliveryTime = '';\n    this.apiUrl = 'http://localhost:8080/orders';\n    this.userId = null;\n    ////////////////\n    this.courierId = 0;\n    this.orders = [];\n    this.errorMessage = '';\n    const token = this.authService.getToken();\n    if (token) {\n      const decodedToken = jwtDecode(token);\n      this.courierId = decodedToken.sub;\n      console.log(\"test1:\" + this.courierId);\n    } else {\n      console.log(\"test2:\" + this.courierId);\n    }\n  }\n  ngOnInit() {\n    this.load();\n  }\n  load() {\n    // Get orders for the current user\n    this.courierService.getCourierOrders(this.courierId).subscribe({\n      next: data => {\n        this.orders = data; // Successfully received orders\n      },\n\n      error: error => {\n        this.errorMessage = 'There was an error retrieving orders.'; // Handle error\n        console.error(error); // Log the error for debugging\n      },\n\n      complete: () => {\n        console.log('Courier orders fetch complete'); // Optionally log completion\n      }\n    });\n  }\n\n  updateStatus(orderId, newStatus) {\n    this.orderService.updateOrderStatus(orderId, newStatus).subscribe({\n      next: response => {\n        console.log('Status updated successfully', response);\n        this.ngOnInit(); // Reload orders to reflect the updated status\n        alert('Order status updated successfully!'); // Notify user of success\n      },\n\n      error: error => {\n        console.error('Error updating order status:', error);\n        alert('Error updating order status: ' + error.message); // Notify user of error\n      }\n    });\n  }\n\n  acceptOrder(orderId) {\n    this.orderService.updateOrderStatus(orderId, \"picked up\").subscribe({\n      next: response => {\n        console.log('Order accepted successfully', response);\n        this.ngOnInit(); // Reload orders to reflect the updated status\n        alert('Order status updated successfully!'); // Notify user of success\n      },\n\n      error: error => {\n        console.error('Error accepting order:', error);\n        alert('Error accepting order: ' + error.message); // Notify user of error\n      }\n    });\n  }\n\n  acceptOrder2(orderId) {\n    this.courierService.acceptOrder(orderId).subscribe({\n      next: () => {\n        alert('Order accepted successfully!');\n        this.ngOnInit(); // Refresh orders to update status\n      },\n\n      error: error => {\n        console.error('Error accepting order:', error);\n        console.log('ali:' + this.courierService.acceptOrder(orderId));\n        alert('Error accepting order: ' + (error.error?.message || error.message));\n      }\n    });\n  }\n  clearCourier(orderId) {\n    this.orderService.clearCourier(orderId, 'pending').subscribe({\n      next: response => {\n        console.log('Order declined successfully', response);\n        this.ngOnInit(); // Reload orders to reflect the updated status\n        alert('Order status updated successfully!'); // Notify user of success\n      },\n\n      error: error => {\n        console.error('Error declined order:', error);\n        alert('Error declined order: ' + error.message); // Notify user of error\n      }\n    });\n  }\n\n  declineOrder(orderId) {\n    // Create a payload to update the courier_id to null\n    const payload = {\n      courier_id: null\n    }; // courier_id is set to null\n    this.orderService.assignCourierToOrder2(orderId, payload).subscribe({\n      next: () => {\n        alert('Order declined successfully!');\n        this.ngOnInit(); // Refresh orders to update status\n      },\n\n      error: error => {\n        console.error('Error declining order:', error);\n        alert('Error declining order: ' + error.message);\n      }\n    });\n  }\n  revive(orderId) {\n    this.deleteOrder(orderId);\n    this.reOrder();\n  }\n  deleteOrder(orderId) {\n    this.orderService.deleteOrder(orderId).subscribe(response => {\n      this.ngOnInit();\n    });\n  }\n  reOrder() {\n    const order = {\n      pickupLocation: this.pickupLocation,\n      dropOffLocation: this.dropOffLocation,\n      packageDetails: this.packageDetails,\n      deliveryTime: this.deliveryTime,\n      user_id: this.userId // Include the user ID\n    };\n\n    this.http.post(this.apiUrl, order).subscribe({\n      next: () => {\n        alert('Order created successfully!');\n        this.ngOnInit();\n      },\n      error: err => alert('Failed to create order: ' + err.error)\n    });\n  }\n  static {\n    this.ɵfac = function CourierComponent_Factory(t) {\n      return new (t || CourierComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.CourierService), i0.ɵɵdirectiveInject(i3.OrderService), i0.ɵɵdirectiveInject(i4.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CourierComponent,\n      selectors: [[\"app-courier\"]],\n      decls: 6,\n      vars: 3,\n      consts: [[\"class\", \"error\", 4, \"ngIf\"], [\"border\", \"2\", 4, \"ngIf\", \"ngIfElse\"], [\"noOrders\", \"\"], [1, \"error\"], [\"border\", \"2\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngModel\", \"ngModelChange\"], [\"value\", \"pending\"], [\"value\", \"picked up\"], [\"value\", \"in transit\"], [\"value\", \"delivered\"], [3, \"click\"], [3, \"disabled\", \"click\"]],\n      template: function CourierComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\");\n          i0.ɵɵtext(1, \"My Assigned Orders\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(2, CourierComponent_p_2_Template, 2, 1, \"p\", 0);\n          i0.ɵɵtemplate(3, CourierComponent_table_3_Template, 19, 1, \"table\", 1);\n          i0.ɵɵtemplate(4, CourierComponent_ng_template_4_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n        }\n        if (rf & 2) {\n          const _r2 = i0.ɵɵreference(5);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.orders.length > 0)(\"ngIfElse\", _r2);\n        }\n      },\n      dependencies: [i5.NgForOf, i5.NgIf, i6.NgSelectOption, i6.ɵNgSelectMultipleOption, i6.SelectControlValueAccessor, i6.NgControlStatus, i6.NgModel],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["jwtDecode","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","errorMessage","ɵɵlistener","CourierComponent_table_3_tr_18_Template_select_ngModelChange_12_listener","$event","restoredCtx","ɵɵrestoreView","_r7","order_r5","$implicit","ɵɵresetView","newStatus","CourierComponent_table_3_tr_18_Template_button_click_21_listener","ctx_r8","ɵɵnextContext","updateStatus","orderNumber","CourierComponent_table_3_tr_18_Template_button_click_24_listener","ctx_r9","acceptOrder","CourierComponent_table_3_tr_18_Template_button_click_26_listener","ctx_r10","clearCourier","CourierComponent_table_3_tr_18_Template_button_click_28_listener","ctx_r11","declineOrder","CourierComponent_table_3_tr_18_Template_button_click_30_listener","ctx_r12","revive","pickupLocation","dropOffLocation","packageDetails","status","ɵɵproperty","ɵɵtemplate","CourierComponent_table_3_tr_18_Template","ctx_r1","orders","CourierComponent","constructor","http","courierService","orderService","authService","deliveryTime","apiUrl","userId","courierId","token","getToken","decodedToken","sub","console","log","ngOnInit","load","getCourierOrders","subscribe","next","data","error","complete","orderId","updateOrderStatus","response","alert","message","acceptOrder2","payload","courier_id","assignCourierToOrder2","deleteOrder","reOrder","order","user_id","post","err","ɵɵdirectiveInject","i1","HttpClient","i2","CourierService","i3","OrderService","i4","AuthService","selectors","decls","vars","consts","template","CourierComponent_Template","rf","ctx","CourierComponent_p_2_Template","CourierComponent_table_3_Template","CourierComponent_ng_template_4_Template","ɵɵtemplateRefExtractor","length","_r2"],"sources":["C:\\Users\\imoha\\Desktop\\Package_Tracking_System\\frontend\\src\\app\\courier\\courier.component.ts","C:\\Users\\imoha\\Desktop\\Package_Tracking_System\\frontend\\src\\app\\courier\\courier.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { OrderService } from '../order.service';\r\nimport { AuthService } from '../auth.service';\r\nimport { jwtDecode } from \"jwt-decode\";\r\nimport { CourierService } from '../courier.service';\r\nimport { HttpClient } from '@angular/common/http';\r\n@Component({\r\n  selector: 'app-courier',\r\n  templateUrl: './courier.component.html',\r\n  styleUrls: ['./courier.component.css']\r\n})\r\nexport class CourierComponent implements OnInit {\r\n  pickupLocation: string = '';\r\n  dropOffLocation: string = '';\r\n  packageDetails: string = '';\r\n  deliveryTime: string = '';\r\n  private apiUrl = 'http://localhost:8080/orders';\r\n  userId: number | null = null;\r\n  ////////////////\r\n  courierId: number= 0;\r\n  orders: any[] = [];\r\n  errorMessage: string = '';\r\n\r\n  constructor(private http: HttpClient, private courierService: CourierService,private orderService: OrderService, private authService: AuthService ) {\r\n      const token = this.authService.getToken();\r\n    if (token) {\r\n      const decodedToken: any = jwtDecode(token);\r\n      this.courierId = decodedToken.sub; \r\n      console.log(\"test1:\"+this.courierId)\r\n    }\r\n    else{ \r\n      console.log(\"test2:\"+this.courierId)\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n      this.load();\r\n  }\r\n  load(){\r\n    // Get orders for the current user\r\n    this.courierService.getCourierOrders(this.courierId).subscribe({\r\n      next: (data) => {\r\n        this.orders = data; // Successfully received orders\r\n      },\r\n      error: (error) => {\r\n        this.errorMessage = 'There was an error retrieving orders.'; // Handle error\r\n        console.error(error); // Log the error for debugging\r\n      },\r\n      complete: () => {\r\n        console.log('Courier orders fetch complete'); // Optionally log completion\r\n      }\r\n    });\r\n  }\r\n  updateStatus(orderId: number, newStatus: string) {\r\n    this.orderService.updateOrderStatus(orderId, newStatus).subscribe({\r\n      next: response => {\r\n        console.log('Status updated successfully', response);\r\n        this.ngOnInit(); // Reload orders to reflect the updated status\r\n        alert('Order status updated successfully!'); // Notify user of success\r\n      },\r\n      error: error => {\r\n        console.error('Error updating order status:', error);\r\n        alert('Error updating order status: ' + error.message); // Notify user of error\r\n      }\r\n    });\r\n  }\r\n\r\n  acceptOrder(orderId: number) {\r\n    this.orderService.updateOrderStatus(orderId, \"picked up\").subscribe({\r\n      next: response => {\r\n        console.log('Order accepted successfully', response);\r\n        this.ngOnInit(); // Reload orders to reflect the updated status\r\n        alert('Order status updated successfully!'); // Notify user of success\r\n      },\r\n      error: error => {\r\n        console.error('Error accepting order:', error);\r\n        alert('Error accepting order: ' + error.message); // Notify user of error\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  acceptOrder2(orderId: number): void {\r\n    this.courierService.acceptOrder(orderId).subscribe({\r\n      next: () => {\r\n        alert('Order accepted successfully!');\r\n        this.ngOnInit(); // Refresh orders to update status\r\n      },\r\n      error: (error) => {\r\n        console.error('Error accepting order:', error);\r\n        console.log('ali:'+this.courierService.acceptOrder(orderId))\r\n        alert('Error accepting order: ' + (error.error?.message || error.message));\r\n      }\r\n    });\r\n  }\r\n  clearCourier(orderId:number){\r\n    this.orderService.clearCourier(orderId,'pending').subscribe({\r\n      next: response => {\r\n        console.log('Order declined successfully', response);\r\n        this.ngOnInit(); // Reload orders to reflect the updated status\r\n        alert('Order status updated successfully!'); // Notify user of success\r\n      },\r\n      error: error => {\r\n        console.error('Error declined order:', error);\r\n        alert('Error declined order: ' + error.message); // Notify user of error\r\n      }\r\n    })\r\n  }\r\n\r\n  declineOrder(orderId: number) {\r\n    // Create a payload to update the courier_id to null\r\n  const payload = { courier_id: null };  // courier_id is set to null\r\n    this.orderService.assignCourierToOrder2(orderId,payload).subscribe({\r\n      next: () => {\r\n        alert('Order declined successfully!');\r\n        this.ngOnInit(); // Refresh orders to update status\r\n      },\r\n      error: (error) => {\r\n        console.error('Error declining order:', error);\r\n        alert('Error declining order: ' + error.message);\r\n      }\r\n    });\r\n  }\r\n\r\n  revive(orderId: number){\r\n    this.deleteOrder(orderId);\r\n    this.reOrder();\r\n  }\r\n\r\n\r\n\r\n\r\n  deleteOrder(orderId: number) {\r\n    this.orderService.deleteOrder(orderId).subscribe(response => {\r\n      this.ngOnInit();\r\n    });\r\n  }\r\n  reOrder() {\r\n    const order = {\r\n      pickupLocation: this.pickupLocation,\r\n      dropOffLocation: this.dropOffLocation,\r\n      packageDetails: this.packageDetails,\r\n      deliveryTime: this.deliveryTime,\r\n      user_id: this.userId, // Include the user ID\r\n    };\r\n\r\n    this.http.post(this.apiUrl, order).subscribe({\r\n      next: () => {alert('Order created successfully!')\r\n                  this.ngOnInit();\r\n      },\r\n      error: (err) => alert('Failed to create order: ' + err.error),\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","<h2>My Assigned Orders</h2>\r\n\r\n<!-- Error message if orders fail to load -->\r\n<p *ngIf=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n\r\n<!-- Orders Table -->\r\n<table border=\"2\" *ngIf=\"orders.length > 0; else noOrders\">\r\n  <thead>\r\n    <tr>\r\n      <th>Order ID</th>\r\n      <th>Pickup Location</th>\r\n      <th>Dropoff Location</th>\r\n      <th>Package Details</th>\r\n      <th>Status</th>\r\n      <th>Update Status</th>\r\n      <th>Actions</th> <!-- New column for Accept/Decline buttons -->\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr *ngFor=\"let order of orders\">\r\n      <td>{{ order.orderNumber }}</td>\r\n      <td>{{ order.pickupLocation }}</td>\r\n      <td>{{ order.dropOffLocation }}</td>\r\n      <td>{{ order.packageDetails }}</td>\r\n      <td>{{ order.status }}</td>\r\n      <td>\r\n        <!-- Dropdown to select new status -->\r\n        <select [(ngModel)]=\"order.newStatus\">\r\n          <option value=\"pending\">Pending</option>\r\n          <option value=\"picked up\">Picked Up</option>\r\n          <option value=\"in transit\">In Transit</option>\r\n          <option value=\"delivered\">Delivered</option>\r\n        </select>\r\n        <button (click)=\"updateStatus(order.orderNumber, order.newStatus)\">Update</button>\r\n      </td>\r\n      <td>\r\n        <!-- Accept and Decline buttons -->\r\n        <button (click)=\"acceptOrder(order.orderNumber)\" [disabled]=\"order.status !== 'pending'\">Accept</button>\r\n        <button (click)=\"clearCourier(order.orderNumber)\" [disabled]=\"order.status !== 'pending'\">Clear</button>\r\n        <button (click)=\"declineOrder(order.orderNumber)\" [disabled]=\"order.status !== 'pending'\">Decline</button>\r\n        <button (click)=\"revive(order.orderNumber)\" [disabled]=\"order.status !== 'pending'\">revive</button>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n\r\n<!-- Message for no orders found -->\r\n<ng-template #noOrders>\r\n  <p>No orders assigned to you currently.</p>\r\n</ng-template>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
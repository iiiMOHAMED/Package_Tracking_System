{"ast":null,"code":"import { jwtDecode } from \"jwt-decode\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../courier.service\";\nimport * as i3 from \"../order.service\";\nimport * as i4 from \"../auth.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction CourierComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Assigned orders are just for Couriers\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CourierComponent_div_1_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.errorMessage);\n  }\n}\nfunction CourierComponent_div_1_table_7_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"div\", 8)(13, \"select\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function CourierComponent_div_1_table_7_tr_18_Template_select_ngModelChange_13_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const order_r7 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(order_r7.newStatus = $event);\n    });\n    i0.ɵɵelementStart(14, \"option\", 10);\n    i0.ɵɵtext(15, \"Pending\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"option\", 11);\n    i0.ɵɵtext(17, \"Picked Up\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"option\", 12);\n    i0.ɵɵtext(19, \"In Transit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"option\", 13);\n    i0.ɵɵtext(21, \"Delivered\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function CourierComponent_div_1_table_7_tr_18_Template_button_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const order_r7 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r10.updateStatus(order_r7.orderNumber, order_r7.newStatus));\n    });\n    i0.ɵɵtext(23, \"Update\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"td\")(25, \"div\", 15)(26, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function CourierComponent_div_1_table_7_tr_18_Template_button_click_26_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const order_r7 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r11.acceptOrder(order_r7.orderNumber));\n    });\n    i0.ɵɵtext(27, \"Accept\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function CourierComponent_div_1_table_7_tr_18_Template_button_click_28_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const order_r7 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r12.revive(order_r7.orderNumber, order_r7));\n    });\n    i0.ɵɵtext(29, \"Decline\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const order_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r7.orderNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r7.pickupLocation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r7.dropOffLocation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r7.packageDetails);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r7.status);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", order_r7.newStatus);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"disabled\", order_r7.status !== \"pending\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", order_r7.status !== \"pending\");\n  }\n}\nfunction CourierComponent_div_1_table_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 6)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Order ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Pickup Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Dropoff Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Package Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Update Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(17, \"tbody\");\n    i0.ɵɵtemplate(18, CourierComponent_div_1_table_7_tr_18_Template, 30, 8, \"tr\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.orders);\n  }\n}\nfunction CourierComponent_div_1_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No orders assigned to you currently.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CourierComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"a\", 1)(2, \"button\");\n    i0.ɵɵtext(3, \"Return\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"h2\");\n    i0.ɵɵtext(5, \"My Assigned Orders\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, CourierComponent_div_1_p_6_Template, 2, 1, \"p\", 2);\n    i0.ɵɵtemplate(7, CourierComponent_div_1_table_7_Template, 19, 1, \"table\", 3);\n    i0.ɵɵtemplate(8, CourierComponent_div_1_ng_template_8_Template, 2, 0, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r4 = i0.ɵɵreference(9);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.errorMessage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.orders.length > 0)(\"ngIfElse\", _r4);\n  }\n}\nexport class CourierComponent {\n  constructor(http, courierService, orderService, authService) {\n    this.http = http;\n    this.courierService = courierService;\n    this.orderService = orderService;\n    this.authService = authService;\n    this.pickupLocation = '';\n    this.dropOffLocation = '';\n    this.packageDetails = '';\n    this.deliveryTime = '';\n    this.apiUrl = 'http://localhost:8080/orders';\n    this.userId = null;\n    ////////////////\n    this.courierId = 0;\n    this.orders = [];\n    this.errorMessage = '';\n    this.role = '';\n    const token = this.authService.getToken();\n    if (token) {\n      const decodedToken = jwtDecode(token);\n      this.courierId = decodedToken.sub;\n      this.role = decodedToken.role;\n      console.log(\"test1:\" + this.courierId);\n      console.log(\"test1:\" + this.role);\n    } else {\n      console.log(\"test2:\" + this.courierId);\n      console.log(\"test2:\" + this.role);\n    }\n  }\n  isCourier() {\n    if (this.role === \"courier\") {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  ngOnInit() {\n    this.load();\n  }\n  load() {\n    // Get orders for the current user\n    this.courierService.getCourierOrders(this.courierId).subscribe({\n      next: data => {\n        this.orders = data; // Successfully received orders\n      },\n\n      error: error => {\n        this.errorMessage = 'There was an error retrieving orders.'; // Handle error\n        console.error(error); // Log the error for debugging\n      },\n\n      complete: () => {\n        console.log('Courier orders fetch complete'); // Optionally log completion\n      }\n    });\n  }\n\n  updateStatus(orderId, newStatus) {\n    this.orderService.updateOrderStatus(orderId, newStatus).subscribe({\n      next: response => {\n        console.log('Status updated successfully', response);\n        this.ngOnInit(); // Reload orders to reflect the updated status\n        alert('Order status updated successfully!'); // Notify user of success\n      },\n\n      error: error => {\n        console.error('Error updating order status:', error);\n        alert('Error updating order status: ' + error.message); // Notify user of error\n      }\n    });\n  }\n\n  acceptOrder(orderId) {\n    this.orderService.updateOrderStatus(orderId, \"picked up\").subscribe({\n      next: response => {\n        console.log('Order accepted successfully', response);\n        this.ngOnInit(); // Reload orders to reflect the updated status\n        alert('Order status updated successfully!'); // Notify user of success\n      },\n\n      error: error => {\n        console.error('Error accepting order:', error);\n        alert('Error accepting order: ' + error.message); // Notify user of error\n      }\n    });\n  }\n  ////////////////////////////\n  acceptOrder2(orderId) {\n    this.courierService.acceptOrder(orderId).subscribe({\n      next: () => {\n        alert('Order accepted successfully!');\n        this.ngOnInit(); // Refresh orders to update status\n      },\n\n      error: error => {\n        console.error('Error accepting order:', error);\n        console.log('ali:' + this.courierService.acceptOrder(orderId));\n        alert('Error accepting order: ' + (error.error?.message || error.message));\n      }\n    });\n  }\n  clearCourier(orderId) {\n    this.orderService.clearCourier(orderId, 'pending').subscribe({\n      next: response => {\n        console.log('Order declined successfully', response);\n        this.ngOnInit(); // Reload orders to reflect the updated status\n        alert('Order status updated successfully!'); // Notify user of success\n      },\n\n      error: error => {\n        console.error('Error declined order:', error);\n        alert('Error declined order: ' + error.message); // Notify user of error\n      }\n    });\n  }\n\n  declineOrder(orderId) {\n    // Create a payload to update the courier_id to null\n    const payload = {\n      courier_id: null\n    }; // courier_id is set to null\n    this.orderService.assignCourierToOrder2(orderId, payload).subscribe({\n      next: () => {\n        this.ngOnInit(); // Refresh orders to update status\n      },\n\n      error: error => {\n        console.error('Error declining order:', error);\n        alert('Error declining order: ' + error.message);\n      }\n    });\n  }\n  ////////////////////////////\n  revive(orderId, order) {\n    this.deleteOrder(orderId);\n    this.reOrder(order);\n  }\n  deleteOrder(orderId) {\n    this.orderService.deleteOrder(orderId).subscribe(response => {\n      this.ngOnInit();\n    });\n  }\n  reOrder(order) {\n    this.http.post(this.apiUrl, order).subscribe({\n      next: () => {\n        alert('Order created successfully!');\n        this.ngOnInit();\n      },\n      error: err => alert('Failed to create order: ' + err.error)\n    });\n  }\n  static {\n    this.ɵfac = function CourierComponent_Factory(t) {\n      return new (t || CourierComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.CourierService), i0.ɵɵdirectiveInject(i3.OrderService), i0.ɵɵdirectiveInject(i4.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CourierComponent,\n      selectors: [[\"app-courier\"]],\n      decls: 2,\n      vars: 2,\n      consts: [[4, \"ngIf\"], [\"href\", \"/home\", 1, \"return-button\"], [\"class\", \"error\", 4, \"ngIf\"], [\"border\", \"2\", 4, \"ngIf\", \"ngIfElse\"], [\"noOrders\", \"\"], [1, \"error\"], [\"border\", \"2\"], [4, \"ngFor\", \"ngForOf\"], [1, \"update-status\"], [3, \"ngModel\", \"ngModelChange\"], [\"value\", \"pending\"], [\"value\", \"picked up\"], [\"value\", \"in transit\"], [\"value\", \"delivered\"], [1, \"update-button\", 3, \"click\"], [1, \"action-buttons\"], [1, \"accept-button\", 3, \"disabled\", \"click\"], [1, \"decline-button\", 3, \"disabled\", \"click\"]],\n      template: function CourierComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, CourierComponent_div_0_Template, 3, 0, \"div\", 0);\n          i0.ɵɵtemplate(1, CourierComponent_div_1_Template, 10, 3, \"div\", 0);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", !ctx.isCourier());\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isCourier());\n        }\n      },\n      dependencies: [i5.NgForOf, i5.NgIf, i6.NgSelectOption, i6.ɵNgSelectMultipleOption, i6.SelectControlValueAccessor, i6.NgControlStatus, i6.NgModel],\n      styles: [\"\\n\\ntable[_ngcontent-%COMP%] {\\n    width: 80%;\\n    max-width: 800px;\\n    margin: 50px auto;\\n    text-align: left;\\n    border-collapse: collapse;\\n    font-size: 16px;\\n    font-family: Arial, Helvetica, sans-serif;\\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\\n    border-radius: 10px;\\n    overflow: hidden;\\n}\\n\\nh2[_ngcontent-%COMP%] {\\n    font-family: Arial, Helvetica, sans-serif;\\n    color: #007aff;\\n    text-align: center;\\n}\\n  \\n\\n  .return-button[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 20px;\\n    right: 20px; \\n\\n  }\\n  \\n  .return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    background-color: #007aff; \\n\\n    color: #fff;\\n    padding: 8px 16px;\\n    font-size: 14px;\\n    border: none;\\n    border-radius: 8px;\\n    cursor: pointer;\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n    transition: background-color 0.3s ease, transform 0.2s ease;\\n  }\\n  \\n  .return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n    background-color: #005b8a;\\n    transform: translateY(-2px);\\n  }\\n  \\n  .return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active {\\n    background-color: #004070;\\n    transform: translateY(0);\\n  }\\n  \\n\\ntable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    padding: 12px 20px;\\n    border-bottom: 1px solid #ddd;\\n    vertical-align: middle;\\n}\\n\\ntable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n    background-color: #f1f1f1;\\n    color: #333;\\n    font-weight: bold;\\n}\\n\\ntable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    background-color: #fff;\\n}\\n\\n\\n\\n.action-buttons[_ngcontent-%COMP%] {\\n    display: flex;\\n    gap: 8px;\\n    justify-content: flex-start;\\n    align-items: center;\\n    border: none; \\n\\n}\\n\\n\\n\\n.update-status[_ngcontent-%COMP%] {\\n    display: flex;\\n    gap: 5px; \\n\\n    align-items: center; \\n\\n}\\n\\n\\n\\n.update-button[_ngcontent-%COMP%], .accept-button[_ngcontent-%COMP%], .decline-button[_ngcontent-%COMP%] {\\n    background-color: #007aff;\\n    color: #fff;\\n    padding: 6px 12px;\\n    font-size: 12px;\\n    border: none;\\n    border-radius: 8px;\\n    cursor: pointer;\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n    transition: background-color 0.3s ease, transform 0.2s ease;\\n}\\n\\n\\n\\n.update-button[_ngcontent-%COMP%]:hover, .accept-button[_ngcontent-%COMP%]:hover, .decline-button[_ngcontent-%COMP%]:hover {\\n    background-color: #005b8a;\\n    transform: translateY(-2px);\\n}\\n\\n\\n\\n.update-button[_ngcontent-%COMP%]:active, .accept-button[_ngcontent-%COMP%]:active, .decline-button[_ngcontent-%COMP%]:active {\\n    background-color: #004070;\\n    transform: translateY(0);\\n}\\n\\n\\n\\n.accept-button[_ngcontent-%COMP%]:disabled, .decline-button[_ngcontent-%COMP%]:disabled {\\n    background-color: #b0b0b0; \\n\\n    color: #666666; \\n\\n    cursor: not-allowed; \\n\\n    opacity: 0.6; \\n\\n    box-shadow: none; \\n\\n}\\n\\n\\n\\nselect[_ngcontent-%COMP%] {\\n    padding: 4px;\\n    font-size: 14px;\\n    border: 1px solid #ddd; \\n\\n    border-radius: 5px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY291cmllci9jb3VyaWVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0JBQWtCO0FBQ2xCO0lBQ0ksVUFBVTtJQUNWLGdCQUFnQjtJQUNoQixpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLHlCQUF5QjtJQUN6QixlQUFlO0lBQ2YseUNBQXlDO0lBQ3pDLHlDQUF5QztJQUN6QyxtQkFBbUI7SUFDbkIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0kseUNBQXlDO0lBQ3pDLGNBQWM7SUFDZCxrQkFBa0I7QUFDdEI7RUFDRSwwREFBMEQ7RUFDMUQ7SUFDRSxrQkFBa0I7SUFDbEIsU0FBUztJQUNULFdBQVcsRUFBRSxpQ0FBaUM7RUFDaEQ7O0VBRUE7SUFDRSx5QkFBeUIsRUFBRSxhQUFhO0lBQ3hDLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsZUFBZTtJQUNmLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLHdDQUF3QztJQUN4QywyREFBMkQ7RUFDN0Q7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsMkJBQTJCO0VBQzdCOztFQUVBO0lBQ0UseUJBQXlCO0lBQ3pCLHdCQUF3QjtFQUMxQjs7O0FBR0Y7O0lBRUksa0JBQWtCO0lBQ2xCLDZCQUE2QjtJQUM3QixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsV0FBVztJQUNYLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLHNCQUFzQjtBQUMxQjs7QUFFQSxrREFBa0Q7QUFDbEQ7SUFDSSxhQUFhO0lBQ2IsUUFBUTtJQUNSLDJCQUEyQjtJQUMzQixtQkFBbUI7SUFDbkIsWUFBWSxFQUFFLGdDQUFnQztBQUNsRDs7QUFFQSw0QkFBNEI7QUFDNUI7SUFDSSxhQUFhO0lBQ2IsUUFBUSxFQUFFLG9DQUFvQztJQUM5QyxtQkFBbUIsRUFBRSx1Q0FBdUM7QUFDaEU7O0FBRUEsb0JBQW9CO0FBQ3BCOzs7SUFHSSx5QkFBeUI7SUFDekIsV0FBVztJQUNYLGlCQUFpQjtJQUNqQixlQUFlO0lBQ2YsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2Ysd0NBQXdDO0lBQ3hDLDJEQUEyRDtBQUMvRDs7QUFFQSxxQ0FBcUM7QUFDckM7OztJQUdJLHlCQUF5QjtJQUN6QiwyQkFBMkI7QUFDL0I7O0FBRUEsNkJBQTZCO0FBQzdCOzs7SUFHSSx5QkFBeUI7SUFDekIsd0JBQXdCO0FBQzVCOztBQUVBLDJCQUEyQjtBQUMzQjs7SUFFSSx5QkFBeUIsRUFBRSwwQkFBMEI7SUFDckQsY0FBYyxFQUFFLHNCQUFzQjtJQUN0QyxtQkFBbUIsRUFBRSwyQkFBMkI7SUFDaEQsWUFBWSxFQUFFLHlCQUF5QjtJQUN2QyxnQkFBZ0IsRUFBRSxrQkFBa0I7QUFDeEM7O0FBRUEsbURBQW1EO0FBQ25EO0lBQ0ksWUFBWTtJQUNaLGVBQWU7SUFDZixzQkFBc0IsRUFBRSx3QkFBd0I7SUFDaEQsa0JBQWtCO0FBQ3RCIiwic291cmNlc0NvbnRlbnQiOlsiLyogVGFibGUgc3R5bGluZyAqL1xyXG50YWJsZSB7XHJcbiAgICB3aWR0aDogODAlO1xyXG4gICAgbWF4LXdpZHRoOiA4MDBweDtcclxuICAgIG1hcmdpbjogNTBweCBhdXRvO1xyXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgICBmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbmgyIHtcclxuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xyXG4gICAgY29sb3I6ICMwMDdhZmY7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuICAvKiBTdHlsaW5nIGZvciB0aGUgUmV0dXJuIGJ1dHRvbiBpbiB0aGUgdG9wLXJpZ2h0IGNvcm5lciAqL1xyXG4gIC5yZXR1cm4tYnV0dG9uIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMjBweDtcclxuICAgIHJpZ2h0OiAyMHB4OyAvKiBNb3ZlIHRoZSBidXR0b24gdG8gdGhlIHJpZ2h0ICovXHJcbiAgfVxyXG4gIFxyXG4gIC5yZXR1cm4tYnV0dG9uIGJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YWZmOyAvKiBpT1MgYmx1ZSAqL1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBwYWRkaW5nOiA4cHggMTZweDtcclxuICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZSwgdHJhbnNmb3JtIDAuMnMgZWFzZTtcclxuICB9XHJcbiAgXHJcbiAgLnJldHVybi1idXR0b24gYnV0dG9uOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDViOGE7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XHJcbiAgfVxyXG4gIFxyXG4gIC5yZXR1cm4tYnV0dG9uIGJ1dHRvbjphY3RpdmUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNDA3MDtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICB9XHJcbiAgXHJcblxyXG50YWJsZSB0aCxcclxudGFibGUgdGQge1xyXG4gICAgcGFkZGluZzogMTJweCAyMHB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7XHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG59XHJcblxyXG50YWJsZSB0aCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxO1xyXG4gICAgY29sb3I6ICMzMzM7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG5cclxudGFibGUgdGQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxufVxyXG5cclxuLyogRmxleCBjb250YWluZXIgZm9yIEFjY2VwdCBhbmQgRGVjbGluZSBidXR0b25zICovXHJcbi5hY3Rpb24tYnV0dG9ucyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZ2FwOiA4cHg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgYm9yZGVyOiBub25lOyAvKiBFbnN1cmUgbm8gYm9yZGVyIGlzIGFwcGxpZWQgKi9cclxufVxyXG5cclxuLyogVXBkYXRlIFN0YXR1cyBjb250YWluZXIgKi9cclxuLnVwZGF0ZS1zdGF0dXMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogNXB4OyAvKiBTcGFjZSBiZXR3ZWVuIHNlbGVjdCBhbmQgYnV0dG9uICovXHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyOyAvKiBBbGlnbiBzZWxlY3QgYW5kIGJ1dHRvbiB2ZXJ0aWNhbGx5ICovXHJcbn1cclxuXHJcbi8qIFN0eWxpbmcgYnV0dG9ucyAqL1xyXG4udXBkYXRlLWJ1dHRvbixcclxuLmFjY2VwdC1idXR0b24sXHJcbi5kZWNsaW5lLWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YWZmO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBwYWRkaW5nOiA2cHggMTJweDtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZSwgdHJhbnNmb3JtIDAuMnMgZWFzZTtcclxufVxyXG5cclxuLyogSG92ZXIgZWZmZWN0cyBmb3Igbm9ybWFsIGJ1dHRvbnMgKi9cclxuLnVwZGF0ZS1idXR0b246aG92ZXIsXHJcbi5hY2NlcHQtYnV0dG9uOmhvdmVyLFxyXG4uZGVjbGluZS1idXR0b246aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNWI4YTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcclxufVxyXG5cclxuLyogQWN0aXZlIHN0YXRlIGZvciBidXR0b25zICovXHJcbi51cGRhdGUtYnV0dG9uOmFjdGl2ZSxcclxuLmFjY2VwdC1idXR0b246YWN0aXZlLFxyXG4uZGVjbGluZS1idXR0b246YWN0aXZlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDQwNzA7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XHJcbn1cclxuXHJcbi8qIERpc2FibGVkIHN0YXRlIHN0eWxpbmcgKi9cclxuLmFjY2VwdC1idXR0b246ZGlzYWJsZWQsXHJcbi5kZWNsaW5lLWJ1dHRvbjpkaXNhYmxlZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjBiMGIwOyAvKiBMaWdodCBncmF5IGJhY2tncm91bmQgKi9cclxuICAgIGNvbG9yOiAjNjY2NjY2OyAvKiBEaW1tZWQgdGV4dCBjb2xvciAqL1xyXG4gICAgY3Vyc29yOiBub3QtYWxsb3dlZDsgLyogRGlzYWJsZSBwb2ludGVyIGN1cnNvciAqL1xyXG4gICAgb3BhY2l0eTogMC42OyAvKiBTbGlnaHRseSB0cmFuc3BhcmVudCAqL1xyXG4gICAgYm94LXNoYWRvdzogbm9uZTsgLyogUmVtb3ZlIHNoYWRvdyAqL1xyXG59XHJcblxyXG4vKiBSZXNldCBib3JkZXIgZm9yIHNlbGVjdCB0byBwcmV2ZW50IGFueSBvdXRsaW5lICovXHJcbnNlbGVjdCB7XHJcbiAgICBwYWRkaW5nOiA0cHg7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyAvKiBDdXN0b21pemUgYXMgbmVlZGVkICovXHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["jwtDecode","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r2","errorMessage","ɵɵlistener","CourierComponent_div_1_table_7_tr_18_Template_select_ngModelChange_13_listener","$event","restoredCtx","ɵɵrestoreView","_r9","order_r7","$implicit","ɵɵresetView","newStatus","CourierComponent_div_1_table_7_tr_18_Template_button_click_22_listener","ctx_r10","ɵɵnextContext","updateStatus","orderNumber","CourierComponent_div_1_table_7_tr_18_Template_button_click_26_listener","ctx_r11","acceptOrder","CourierComponent_div_1_table_7_tr_18_Template_button_click_28_listener","ctx_r12","revive","pickupLocation","dropOffLocation","packageDetails","status","ɵɵproperty","ɵɵtemplate","CourierComponent_div_1_table_7_tr_18_Template","ctx_r3","orders","CourierComponent_div_1_p_6_Template","CourierComponent_div_1_table_7_Template","CourierComponent_div_1_ng_template_8_Template","ɵɵtemplateRefExtractor","ctx_r1","length","_r4","CourierComponent","constructor","http","courierService","orderService","authService","deliveryTime","apiUrl","userId","courierId","role","token","getToken","decodedToken","sub","console","log","isCourier","ngOnInit","load","getCourierOrders","subscribe","next","data","error","complete","orderId","updateOrderStatus","response","alert","message","acceptOrder2","clearCourier","declineOrder","payload","courier_id","assignCourierToOrder2","order","deleteOrder","reOrder","post","err","ɵɵdirectiveInject","i1","HttpClient","i2","CourierService","i3","OrderService","i4","AuthService","selectors","decls","vars","consts","template","CourierComponent_Template","rf","ctx","CourierComponent_div_0_Template","CourierComponent_div_1_Template"],"sources":["C:\\Users\\imoha\\Desktop\\Package_Tracking_System\\frontend\\src\\app\\courier\\courier.component.ts","C:\\Users\\imoha\\Desktop\\Package_Tracking_System\\frontend\\src\\app\\courier\\courier.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { OrderService } from '../order.service';\r\nimport { AuthService } from '../auth.service';\r\nimport { jwtDecode } from \"jwt-decode\";\r\nimport { CourierService } from '../courier.service';\r\nimport { HttpClient } from '@angular/common/http';\r\n@Component({\r\n  selector: 'app-courier',\r\n  templateUrl: './courier.component.html',\r\n  styleUrls: ['./courier.component.css']\r\n})\r\nexport class CourierComponent implements OnInit {\r\n  pickupLocation: string = '';\r\n  dropOffLocation: string = '';\r\n  packageDetails: string = '';\r\n  deliveryTime: string = '';\r\n  private apiUrl = 'http://localhost:8080/orders';\r\n  userId: number | null = null;\r\n  ////////////////\r\n  courierId: number= 0;\r\n  orders: any[] = [];\r\n  errorMessage: string = '';\r\n  role:string='';\r\n  constructor(private http: HttpClient, private courierService: CourierService,private orderService: OrderService, private authService: AuthService ) {\r\n      const token = this.authService.getToken();\r\n    if (token) {\r\n      const decodedToken: any = jwtDecode(token);\r\n      this.courierId = decodedToken.sub; \r\n      this.role=decodedToken.role;\r\n      console.log(\"test1:\"+this.courierId)\r\n      console.log(\"test1:\"+this.role)\r\n    }\r\n    else{ \r\n      console.log(\"test2:\"+this.courierId)\r\n      console.log(\"test2:\"+this.role)\r\n    }\r\n  }\r\n  isCourier(){\r\n    if(this.role===\"courier\"){\r\n      return true;\r\n    }\r\n    else{\r\n      return false;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n      this.load();\r\n  }\r\n  load(){\r\n    // Get orders for the current user\r\n    this.courierService.getCourierOrders(this.courierId).subscribe({\r\n      next: (data) => {\r\n        this.orders = data; // Successfully received orders\r\n      },\r\n      error: (error) => {\r\n        this.errorMessage = 'There was an error retrieving orders.'; // Handle error\r\n        console.error(error); // Log the error for debugging\r\n      },\r\n      complete: () => {\r\n        console.log('Courier orders fetch complete'); // Optionally log completion\r\n      }\r\n    });\r\n  }\r\n  updateStatus(orderId: number, newStatus: string) {\r\n    this.orderService.updateOrderStatus(orderId, newStatus).subscribe({\r\n      next: response => {\r\n        console.log('Status updated successfully', response);\r\n        this.ngOnInit(); // Reload orders to reflect the updated status\r\n        alert('Order status updated successfully!'); // Notify user of success\r\n      },\r\n      error: error => {\r\n        console.error('Error updating order status:', error);\r\n        alert('Error updating order status: ' + error.message); // Notify user of error\r\n      }\r\n    });\r\n  }\r\n\r\n  acceptOrder(orderId: number) {\r\n    this.orderService.updateOrderStatus(orderId, \"picked up\").subscribe({\r\n      next: response => {\r\n        console.log('Order accepted successfully', response);\r\n        this.ngOnInit(); // Reload orders to reflect the updated status\r\n        alert('Order status updated successfully!'); // Notify user of success\r\n      },\r\n      error: error => {\r\n        console.error('Error accepting order:', error);\r\n        alert('Error accepting order: ' + error.message); // Notify user of error\r\n      }\r\n    });\r\n  }\r\n\r\n////////////////////////////\r\n  acceptOrder2(orderId: number): void {\r\n    this.courierService.acceptOrder(orderId).subscribe({\r\n      next: () => {\r\n        alert('Order accepted successfully!');\r\n        this.ngOnInit(); // Refresh orders to update status\r\n      },\r\n      error: (error) => {\r\n        console.error('Error accepting order:', error);\r\n        console.log('ali:'+this.courierService.acceptOrder(orderId))\r\n        alert('Error accepting order: ' + (error.error?.message || error.message));\r\n      }\r\n    });\r\n  }\r\n  clearCourier(orderId:number){\r\n    this.orderService.clearCourier(orderId,'pending').subscribe({\r\n      next: response => {\r\n        console.log('Order declined successfully', response);\r\n        this.ngOnInit(); // Reload orders to reflect the updated status\r\n        alert('Order status updated successfully!'); // Notify user of success\r\n      },\r\n      error: error => {\r\n        console.error('Error declined order:', error);\r\n        alert('Error declined order: ' + error.message); // Notify user of error\r\n      }\r\n    })\r\n  }\r\n\r\n  declineOrder(orderId: number) {\r\n    // Create a payload to update the courier_id to null\r\n    const payload = { courier_id: null };  // courier_id is set to null\r\n    this.orderService.assignCourierToOrder2(orderId,payload).subscribe({\r\n      next: () => {\r\n        this.ngOnInit(); // Refresh orders to update status\r\n      },\r\n      error: (error) => {\r\n        console.error('Error declining order:', error);\r\n        alert('Error declining order: ' + error.message);\r\n      }\r\n    });\r\n  }\r\n////////////////////////////\r\n  revive(orderId: number,order:object){\r\n    this.deleteOrder(orderId);\r\n    this.reOrder(order);\r\n  }\r\n\r\n  deleteOrder(orderId: number) {\r\n    this.orderService.deleteOrder(orderId).subscribe(response => {\r\n      this.ngOnInit();\r\n    });\r\n  }\r\n  reOrder(order:object) {\r\n    \r\n    this.http.post(this.apiUrl, order).subscribe({\r\n      next: () => {alert('Order created successfully!')\r\n                  this.ngOnInit();\r\n      },\r\n      error: (err) => alert('Failed to create order: ' + err.error),\r\n    });\r\n  }\r\n\r\n\r\n}\r\n","<div *ngIf=\"!isCourier()\">\r\n  <h2>Assigned orders are just for Couriers</h2>\r\n</div>\r\n\r\n<div *ngIf=\"isCourier()\">\r\n  <a href=\"/home\" class=\"return-button\">\r\n    <button>Return</button>\r\n  </a>\r\n  <h2>My Assigned Orders</h2>\r\n\r\n  <!-- Error message if orders fail to load -->\r\n  <p *ngIf=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n\r\n  <!-- Orders Table -->\r\n  <table border=\"2\" *ngIf=\"orders.length > 0; else noOrders\">\r\n    <thead>\r\n      <tr>\r\n        <th>Order ID</th>\r\n        <th>Pickup Location</th>\r\n        <th>Dropoff Location</th>\r\n        <th>Package Details</th>\r\n        <th>Status</th>\r\n        <th>Update Status</th>\r\n        <th>Actions</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let order of orders\">\r\n        <td>{{ order.orderNumber }}</td>\r\n        <td>{{ order.pickupLocation }}</td>\r\n        <td>{{ order.dropOffLocation }}</td>\r\n        <td>{{ order.packageDetails }}</td>\r\n        <td>{{ order.status }}</td>\r\n        <td>\r\n          <!-- Flex container for select and update button -->\r\n          <div class=\"update-status\">\r\n            <select [(ngModel)]=\"order.newStatus\">\r\n              <option value=\"pending\">Pending</option>\r\n              <option value=\"picked up\">Picked Up</option>\r\n              <option value=\"in transit\">In Transit</option>\r\n              <option value=\"delivered\">Delivered</option>\r\n            </select>\r\n            <button (click)=\"updateStatus(order.orderNumber, order.newStatus)\" class=\"update-button\">Update</button>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <!-- Flex container for action buttons -->\r\n          <div class=\"action-buttons\">\r\n            <button (click)=\"acceptOrder(order.orderNumber)\" class=\"accept-button\" [disabled]=\"order.status !== 'pending'\">Accept</button>\r\n            <button (click)=\"revive(order.orderNumber, order)\" class=\"decline-button\" [disabled]=\"order.status !== 'pending'\">Decline</button>\r\n          </div>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n\r\n  <!-- Message for no orders found -->\r\n  <ng-template #noOrders>\r\n    <p>No orders assigned to you currently.</p>\r\n  </ng-template>\r\n</div>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
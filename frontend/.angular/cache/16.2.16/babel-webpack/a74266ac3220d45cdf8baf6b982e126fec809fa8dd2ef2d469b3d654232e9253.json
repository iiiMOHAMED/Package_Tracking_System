{"ast":null,"code":"import { jwtDecode } from \"jwt-decode\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"src/app/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction orderCreationComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Only for Customers!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction orderCreationComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2, \"Make an Order\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 1)(4, \"button\");\n    i0.ɵɵtext(5, \"Return\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"form\", 2);\n    i0.ɵɵlistener(\"ngSubmit\", function orderCreationComponent_div_1_Template_form_ngSubmit_6_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onSubmit());\n    });\n    i0.ɵɵelementStart(7, \"div\", 3)(8, \"label\", 4);\n    i0.ɵɵtext(9, \"Pickup Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"input\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function orderCreationComponent_div_1_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.pickupLocation = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 3)(12, \"label\", 6);\n    i0.ɵɵtext(13, \"Dropoff Location\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"input\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function orderCreationComponent_div_1_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.dropOffLocation = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 3)(16, \"label\", 8);\n    i0.ɵɵtext(17, \"Package Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function orderCreationComponent_div_1_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.packageDetails = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 3)(20, \"label\", 10);\n    i0.ɵɵtext(21, \"Delivery Time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"select\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function orderCreationComponent_div_1_Template_select_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.deliveryTime = $event);\n    });\n    i0.ɵɵelementStart(23, \"option\", 12);\n    i0.ɵɵtext(24, \"Select delivery time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"option\", 13);\n    i0.ɵɵtext(26, \"Morning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"option\", 14);\n    i0.ɵɵtext(28, \"Afternoon\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"option\", 15);\n    i0.ɵɵtext(30, \"Evening\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(31, \"div\", 3);\n    i0.ɵɵelement(32, \"input\", 16);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.pickupLocation);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.dropOffLocation);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.packageDetails);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.deliveryTime);\n  }\n}\nexport class orderCreationComponent {\n  constructor(http, authService) {\n    this.http = http;\n    this.authService = authService;\n    this.pickupLocation = '';\n    this.dropOffLocation = '';\n    this.packageDetails = '';\n    this.deliveryTime = '';\n    this.apiUrl = 'http://localhost:8080/orders';\n    this.userId = null;\n    this.role = \" \";\n    const token = this.authService.getToken();\n    if (token) {\n      const decodedToken = jwtDecode(token);\n      this.userId = decodedToken.sub;\n      this.role = decodedToken.role;\n      console.log(\"test1:\" + this.role);\n      console.log(\"test1:\" + this.role);\n    } else {\n      console.log(\"test2:\" + this.role);\n      console.log(\"test2:\" + this.role);\n    }\n  }\n  isCus() {\n    if (this.role === \"customer\") {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  onSubmit() {\n    const order = {\n      pickupLocation: this.pickupLocation,\n      dropOffLocation: this.dropOffLocation,\n      packageDetails: this.packageDetails,\n      deliveryTime: this.deliveryTime,\n      user_id: this.userId // Include the user ID\n    };\n\n    this.http.post(this.apiUrl, order).subscribe({\n      next: () => alert('Order created successfully!'),\n      error: err => alert('Failed to create order: ' + err.error)\n    });\n  }\n  static {\n    this.ɵfac = function orderCreationComponent_Factory(t) {\n      return new (t || orderCreationComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.AuthService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: orderCreationComponent,\n      selectors: [[\"app-orderCreation\"]],\n      decls: 2,\n      vars: 2,\n      consts: [[4, \"ngIf\"], [\"href\", \"/home\", 1, \"return-button\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"pickupLocation\"], [\"type\", \"text\", \"name\", \"pickupLocation\", \"id\", \"pickupLocation\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"dropOffLocation\"], [\"type\", \"text\", \"name\", \"dropOffLocation\", \"id\", \"dropOffLocation\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"packageDetails\"], [\"type\", \"text\", \"name\", \"packageDetails\", \"id\", \"packageDetails\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"deliveryTime\"], [\"name\", \"deliveryTime\", \"id\", \"deliveryTime\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"\", \"disabled\", \"\", \"selected\", \"\"], [\"value\", \"Morning\"], [\"value\", \"Afternoon\"], [\"value\", \"Evening\"], [\"type\", \"submit\", \"value\", \"Create Order\"]],\n      template: function orderCreationComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, orderCreationComponent_div_0_Template, 3, 0, \"div\", 0);\n          i0.ɵɵtemplate(1, orderCreationComponent_div_1_Template, 33, 4, \"div\", 0);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", !ctx.isCus());\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isCus());\n        }\n      },\n      dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n      styles: [\"\\n\\n*[_ngcontent-%COMP%] {\\n    margin: 0;\\n    padding: 0;\\n    box-sizing: border-box;\\n  }\\n  \\n  \\n\\n  .container[_ngcontent-%COMP%] {\\n    text-align: left;\\n    background-color: #fff;\\n    padding: 20px;\\n    border-radius: 12px;\\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\\n    width: 100%;\\n    max-width: 500px;\\n    margin-top: 50px;\\n  }\\n  \\n  \\n\\n  h2[_ngcontent-%COMP%] {\\n    font-size: 28px;\\n    color: #007aff; \\n\\n    margin-bottom: 20px;\\n    text-align: left;\\n  }\\n  \\n  \\n\\n  .form-group[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 5px;\\n    margin-bottom: 15px;\\n  }\\n  \\n  label[_ngcontent-%COMP%] {\\n    font-size: 14px;\\n    color: #555;\\n  }\\n  \\n  input[_ngcontent-%COMP%], select[_ngcontent-%COMP%] {\\n    padding: 8px;\\n    font-size: 14px;\\n    border: 1px solid #ccc;\\n    border-radius: 8px;\\n    width: 100%;\\n  }\\n  \\n  select[_ngcontent-%COMP%] {\\n    padding: 8px;\\n  }\\n  \\n  input[type=\\\"submit\\\"][_ngcontent-%COMP%] {\\n    background-color: #007aff; \\n\\n    color: #fff;\\n    font-size: 16px;\\n    border: none;\\n    padding: 10px 20px;\\n    border-radius: 12px;\\n    cursor: pointer;\\n    transition: background-color 0.3s ease, transform 0.2s ease;\\n    width: auto;\\n    align-self: flex-start;\\n  }\\n  \\n  input[type=\\\"submit\\\"][_ngcontent-%COMP%]:hover {\\n    background-color: #005b8a;\\n    transform: translateY(-2px);\\n  }\\n  \\n  input[type=\\\"submit\\\"][_ngcontent-%COMP%]:active {\\n    background-color: #004070;\\n    transform: translateY(0);\\n  }\\n  \\n  \\n\\n  .return-button[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 20px;\\n    left: 20px;\\n  }\\n  \\n  .return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    background-color: #007aff; \\n\\n    color: #fff;\\n    padding: 8px 16px;\\n    font-size: 14px;\\n    border: none;\\n    border-radius: 8px;\\n    cursor: pointer;\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n    transition: background-color 0.3s ease, transform 0.2s ease;\\n  }\\n  \\n  .return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n    background-color: #005b8a;\\n    transform: translateY(-2px);\\n  }\\n  \\n  .return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active {\\n    background-color: #004070;\\n    transform: translateY(0);\\n  }\\n  \\n  \\n\\n  @media (max-width: 480px) {\\n    .container[_ngcontent-%COMP%] {\\n      padding: 15px;\\n    }\\n  \\n    h2[_ngcontent-%COMP%] {\\n      font-size: 22px;\\n    }\\n  \\n    input[_ngcontent-%COMP%], select[_ngcontent-%COMP%] {\\n      font-size: 14px;\\n      padding: 8px;\\n    }\\n  \\n    input[type=\\\"submit\\\"][_ngcontent-%COMP%] {\\n      font-size: 14px;\\n      padding: 8px 15px;\\n    }\\n  \\n    .return-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n      font-size: 12px;\\n      padding: 6px 12px;\\n    }\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9vcmRlckNyZWF0aW9uL29yZGVyQ3JlYXRpb24uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx5Q0FBeUM7QUFDekM7SUFDSSxTQUFTO0lBQ1QsVUFBVTtJQUNWLHNCQUFzQjtFQUN4Qjs7RUFFQSxxREFBcUQ7RUFDckQ7SUFDRSxnQkFBZ0I7SUFDaEIsc0JBQXNCO0lBQ3RCLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIseUNBQXlDO0lBQ3pDLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEIsZ0JBQWdCO0VBQ2xCOztFQUVBLG1CQUFtQjtFQUNuQjtJQUNFLGVBQWU7SUFDZixjQUFjLEVBQUUsYUFBYTtJQUM3QixtQkFBbUI7SUFDbkIsZ0JBQWdCO0VBQ2xCOztFQUVBLDZCQUE2QjtFQUM3QjtJQUNFLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsUUFBUTtJQUNSLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLGVBQWU7SUFDZixXQUFXO0VBQ2I7O0VBRUE7SUFDRSxZQUFZO0lBQ1osZUFBZTtJQUNmLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsV0FBVztFQUNiOztFQUVBO0lBQ0UsWUFBWTtFQUNkOztFQUVBO0lBQ0UseUJBQXlCLEVBQUUsYUFBYTtJQUN4QyxXQUFXO0lBQ1gsZUFBZTtJQUNmLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLGVBQWU7SUFDZiwyREFBMkQ7SUFDM0QsV0FBVztJQUNYLHNCQUFzQjtFQUN4Qjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6QiwyQkFBMkI7RUFDN0I7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsd0JBQXdCO0VBQzFCOztFQUVBLHlEQUF5RDtFQUN6RDtJQUNFLGtCQUFrQjtJQUNsQixTQUFTO0lBQ1QsVUFBVTtFQUNaOztFQUVBO0lBQ0UseUJBQXlCLEVBQUUsYUFBYTtJQUN4QyxXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLGVBQWU7SUFDZixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZix3Q0FBd0M7SUFDeEMsMkRBQTJEO0VBQzdEOztFQUVBO0lBQ0UseUJBQXlCO0lBQ3pCLDJCQUEyQjtFQUM3Qjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6Qix3QkFBd0I7RUFDMUI7O0VBRUEsMEJBQTBCO0VBQzFCO0lBQ0U7TUFDRSxhQUFhO0lBQ2Y7O0lBRUE7TUFDRSxlQUFlO0lBQ2pCOztJQUVBO01BQ0UsZUFBZTtNQUNmLFlBQVk7SUFDZDs7SUFFQTtNQUNFLGVBQWU7TUFDZixpQkFBaUI7SUFDbkI7O0lBRUE7TUFDRSxlQUFlO01BQ2YsaUJBQWlCO0lBQ25CO0VBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBHZW5lcmFsIHJlc2V0IGZvciBwYWRkaW5nIGFuZCBtYXJnaW4gKi9cclxuKiB7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICB9XHJcbiAgXHJcbiAgLyogU3R5bGUgZm9yIHRoZSBjb250YWluZXIgdG8ga2VlcCBjb250ZW50IGNlbnRlcmVkICovXHJcbiAgLmNvbnRhaW5lciB7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xyXG4gICAgYm94LXNoYWRvdzogMCA0cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMSk7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1heC13aWR0aDogNTAwcHg7XHJcbiAgICBtYXJnaW4tdG9wOiA1MHB4O1xyXG4gIH1cclxuICBcclxuICAvKiBIZWFkaW5nIHN0eWxlcyAqL1xyXG4gIGgyIHtcclxuICAgIGZvbnQtc2l6ZTogMjhweDtcclxuICAgIGNvbG9yOiAjMDA3YWZmOyAvKiBpT1MgYmx1ZSAqL1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxuICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIEZvcm0gZmllbGQgZ3JvdXAgc3R5bGluZyAqL1xyXG4gIC5mb3JtLWdyb3VwIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgZ2FwOiA1cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG4gIH1cclxuICBcclxuICBsYWJlbCB7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBjb2xvcjogIzU1NTtcclxuICB9XHJcbiAgXHJcbiAgaW5wdXQsIHNlbGVjdCB7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG4gIFxyXG4gIHNlbGVjdCB7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbiAgfVxyXG4gIFxyXG4gIGlucHV0W3R5cGU9XCJzdWJtaXRcIl0ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2FmZjsgLyogaU9TIGJsdWUgKi9cclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTJweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlLCB0cmFuc2Zvcm0gMC4ycyBlYXNlO1xyXG4gICAgd2lkdGg6IGF1dG87XHJcbiAgICBhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0O1xyXG4gIH1cclxuICBcclxuICBpbnB1dFt0eXBlPVwic3VibWl0XCJdOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDViOGE7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7XHJcbiAgfVxyXG4gIFxyXG4gIGlucHV0W3R5cGU9XCJzdWJtaXRcIl06YWN0aXZlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDQwNzA7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIFN0eWxpbmcgZm9yIHRoZSBSZXR1cm4gYnV0dG9uIGluIHRoZSB0b3AtbGVmdCBjb3JuZXIgKi9cclxuICAucmV0dXJuLWJ1dHRvbiB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDIwcHg7XHJcbiAgICBsZWZ0OiAyMHB4O1xyXG4gIH1cclxuICBcclxuICAucmV0dXJuLWJ1dHRvbiBidXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2FmZjsgLyogaU9TIGJsdWUgKi9cclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgcGFkZGluZzogOHB4IDE2cHg7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBib3gtc2hhZG93OiAwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2UsIHRyYW5zZm9ybSAwLjJzIGVhc2U7XHJcbiAgfVxyXG4gIFxyXG4gIC5yZXR1cm4tYnV0dG9uIGJ1dHRvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1YjhhO1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpO1xyXG4gIH1cclxuICBcclxuICAucmV0dXJuLWJ1dHRvbiBidXR0b246YWN0aXZlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDQwNzA7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIE1vYmlsZSByZXNwb25zaXZlbmVzcyAqL1xyXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkge1xyXG4gICAgLmNvbnRhaW5lciB7XHJcbiAgICAgIHBhZGRpbmc6IDE1cHg7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBoMiB7XHJcbiAgICAgIGZvbnQtc2l6ZTogMjJweDtcclxuICAgIH1cclxuICBcclxuICAgIGlucHV0LCBzZWxlY3Qge1xyXG4gICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgIHBhZGRpbmc6IDhweDtcclxuICAgIH1cclxuICBcclxuICAgIGlucHV0W3R5cGU9XCJzdWJtaXRcIl0ge1xyXG4gICAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICAgIHBhZGRpbmc6IDhweCAxNXB4O1xyXG4gICAgfVxyXG4gIFxyXG4gICAgLnJldHVybi1idXR0b24gYnV0dG9uIHtcclxuICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICBwYWRkaW5nOiA2cHggMTJweDtcclxuICAgIH1cclxuICB9XHJcbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["jwtDecode","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","orderCreationComponent_div_1_Template_form_ngSubmit_6_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","onSubmit","orderCreationComponent_div_1_Template_input_ngModelChange_10_listener","$event","ctx_r4","pickupLocation","orderCreationComponent_div_1_Template_input_ngModelChange_14_listener","ctx_r5","dropOffLocation","orderCreationComponent_div_1_Template_input_ngModelChange_18_listener","ctx_r6","packageDetails","orderCreationComponent_div_1_Template_select_ngModelChange_22_listener","ctx_r7","deliveryTime","ɵɵelement","ɵɵadvance","ɵɵproperty","ctx_r1","orderCreationComponent","constructor","http","authService","apiUrl","userId","role","token","getToken","decodedToken","sub","console","log","isCus","order","user_id","post","subscribe","next","alert","error","err","ɵɵdirectiveInject","i1","HttpClient","i2","AuthService","selectors","decls","vars","consts","template","orderCreationComponent_Template","rf","ctx","ɵɵtemplate","orderCreationComponent_div_0_Template","orderCreationComponent_div_1_Template"],"sources":["C:\\Users\\imoha\\Desktop\\Package_Tracking_System\\frontend\\src\\app\\components\\orderCreation\\orderCreation.component.ts","C:\\Users\\imoha\\Desktop\\Package_Tracking_System\\frontend\\src\\app\\components\\orderCreation\\orderCreation.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { AuthService } from 'src/app/auth.service';\r\nimport { jwtDecode } from \"jwt-decode\";\r\n\r\n@Component({\r\n  selector: 'app-orderCreation',\r\n  templateUrl: './orderCreation.component.html',\r\n  styleUrls: ['./orderCreation.component.css']\r\n})\r\nexport class orderCreationComponent {\r\n  pickupLocation: string = '';\r\n  dropOffLocation: string = '';\r\n  packageDetails: string = '';\r\n  deliveryTime: string = '';\r\n  private apiUrl = 'http://localhost:8080/orders';\r\n  userId: number | null = null;\r\n  role:string=\" \";\r\n\r\n  constructor(private http: HttpClient, private authService: AuthService) {\r\n    const token = this.authService.getToken();\r\n    if (token) {\r\n      const decodedToken: any = jwtDecode(token);\r\n      this.userId = decodedToken.sub; \r\n      this.role=decodedToken.role;\r\n      console.log(\"test1:\"+this.role)\r\n      console.log(\"test1:\"+this.role)\r\n    }\r\n    else{ \r\n      console.log(\"test2:\"+this.role)\r\n      console.log(\"test2:\"+this.role)\r\n    }\r\n  }\r\n  isCus(){\r\n    if(this.role===\"customer\"){\r\n      return true;\r\n    }\r\n    else{\r\n      return false;\r\n    }\r\n\r\n  }\r\n\r\n  onSubmit() {\r\n    const order = {\r\n      pickupLocation: this.pickupLocation,\r\n      dropOffLocation: this.dropOffLocation,\r\n      packageDetails: this.packageDetails,\r\n      deliveryTime: this.deliveryTime,\r\n      user_id: this.userId, // Include the user ID\r\n    };\r\n\r\n    this.http.post(this.apiUrl, order).subscribe({\r\n      next: () => alert('Order created successfully!'),\r\n      error: (err) => alert('Failed to create order: ' + err.error),\r\n    });\r\n  }\r\n}\r\n\r\n\r\n/*<!--type Order struct {\r\n\tOrderNumber     string `json:\"orderNumber\"`\r\n\tPickupLocation  string `json:\"pickupLocation\"`\r\n\tDropOffLocation string `json:\"dropOffLocation\"`\r\n\tPackageDetails  string `json:\"packageDetails\"`\r\n\tDeliveryTime    string `json:\"deliveryTime\"`\r\n}\r\n-->*/","<div *ngIf=\"!isCus()\">\r\n    <h2>Only for Customers!</h2>\r\n  </div>\r\n  \r\n  <div *ngIf=\"isCus()\">\r\n    <h2>Make an Order</h2>\r\n  \r\n    <!-- Return Button at Top Left -->\r\n    <a href=\"/home\" class=\"return-button\">\r\n      <button>Return</button>\r\n    </a>\r\n  \r\n    <form (ngSubmit)=\"onSubmit()\">\r\n      <div class=\"form-group\">\r\n        <label for=\"pickupLocation\">Pickup Location</label>\r\n        <input type=\"text\" [(ngModel)]=\"pickupLocation\" name=\"pickupLocation\" id=\"pickupLocation\" required>\r\n      </div>\r\n  \r\n      <div class=\"form-group\">\r\n        <label for=\"dropOffLocation\">Dropoff Location</label>\r\n        <input type=\"text\" [(ngModel)]=\"dropOffLocation\" name=\"dropOffLocation\" id=\"dropOffLocation\" required>\r\n      </div>\r\n  \r\n      <div class=\"form-group\">\r\n        <label for=\"packageDetails\">Package Details</label>\r\n        <input type=\"text\" [(ngModel)]=\"packageDetails\" name=\"packageDetails\" id=\"packageDetails\" required>\r\n      </div>\r\n  \r\n      <div class=\"form-group\">\r\n        <label for=\"deliveryTime\">Delivery Time</label>\r\n        <select [(ngModel)]=\"deliveryTime\" name=\"deliveryTime\" id=\"deliveryTime\" required>\r\n          <option value=\"\" disabled selected>Select delivery time</option>\r\n          <option value=\"Morning\">Morning</option>\r\n          <option value=\"Afternoon\">Afternoon</option>\r\n          <option value=\"Evening\">Evening</option>\r\n        </select>\r\n      </div>\r\n  \r\n      <div class=\"form-group\">\r\n        <input type=\"submit\" value=\"Create Order\">\r\n      </div>\r\n    </form>\r\n  </div>\r\n  \r\n\r\n<!--type Order struct {\r\n\tOrderNumber     string `json:\"orderNumber\"`\r\n\tPickupLocation  string `json:\"pickupLocation\"`\r\n\tDropOffLocation string `json:\"dropOffLocation\"`\r\n\tPackageDetails  string `json:\"packageDetails\"`\r\n\tDeliveryTime    string `json:\"deliveryTime\"`\r\n}\r\n-->\r\n<!--<div *ngIf=\"!isCus()\">\r\n    <h2>Only for Customers!</h2>\r\n  </div>\r\n  \r\n  <div *ngIf=\"isCus()\">\r\n    <h2>Make an Order</h2>\r\n    <form (ngSubmit)=\"onSubmit()\">\r\n      <label for=\"pickupLocation\">Pickup Location</label>\r\n      <input type=\"text\" [(ngModel)]=\"pickupLocation\" name=\"pickupLocation\" id=\"pickupLocation\" required>\r\n  \r\n      <label for=\"dropOffLocation\">Dropoff Location</label>\r\n      <input type=\"text\" [(ngModel)]=\"dropOffLocation\" name=\"dropOffLocation\" id=\"dropOffLocation\" required>\r\n  \r\n      <label for=\"packageDetails\">Package Details</label>\r\n      <input type=\"text\" [(ngModel)]=\"packageDetails\" name=\"packageDetails\" id=\"packageDetails\" required>\r\n  \r\n      <label for=\"deliveryTime\">Delivery Time</label>\r\n      <select [(ngModel)]=\"deliveryTime\" name=\"deliveryTime\" id=\"deliveryTime\" required>\r\n        <option value=\"\" disabled selected>Select delivery time</option>\r\n        <option value=\"Morning\">Morning</option>\r\n        <option value=\"Afternoon\">Afternoon</option>\r\n        <option value=\"Evening\">Evening</option>\r\n      </select>\r\n      \r\n      <input type=\"submit\" value=\"Create Order\">\r\n    </form>\r\n  </div>-->"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}